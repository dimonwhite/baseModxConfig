<?php return array (
  'unique_key' => 'category',
  'preserve_keys' => false,
  'update_object' => true,
  'related_objects' => 
  array (
    'Snippets' => 
    array (
      'dc4c589d903bd58ec3444bbd795647f9' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoResources","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\nif (isset($parents) && $parents === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n}\\nif (!empty($returnIds)) {\\n    $scriptProperties[\'return\'] = \'ids\';\\n}\\n\\n\\/\\/ Adding extra parameters into special place so we can put them in a results\\n\\/** @var modSnippet $snippet *\\/\\n$additionalPlaceholders = $properties = array();\\nif (isset($this) && $this instanceof modSnippet && $this->get(\'properties\')) {\\n    $properties = $this->get(\'properties\');\\n}\\nelseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {\\n    $properties = $snippet->get(\'properties\');\\n}\\nif (!empty($properties)) {\\n    foreach ($scriptProperties as $k => $v) {\\n        if (!isset($properties[$k])) {\\n            $additionalPlaceholders[$k] = $v;\\n        }\\n    }\\n}\\n$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;\\n\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n$output = $pdoFetch->run();\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoResourcesLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\n\\/\\/ Return output\\nif (!empty($returnIds)) {\\n    $modx->setPlaceholder(\'pdoResources.log\', $log);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n} elseif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    $output .= $log;\\n\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $output = $pdoFetch->getChunk($tplWrapper, array_merge($additionalPlaceholders, array(\'output\' => $output)),\\n            $pdoFetch->config[\'fastMode\']);\\n    }\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}","locked":0,"properties":"a:47:{s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"returnIds\\";a:7:{s:4:\\"name\\";s:9:\\"returnIds\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_returnIds\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"fastMode\\";a:7:{s:4:\\"name\\";s:8:\\"fastMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_fastMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:11:\\"publishedon\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"sortbyTV\\";a:7:{s:4:\\"name\\";s:8:\\"sortbyTV\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_sortbyTV\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"sortbyTVType\\";a:7:{s:4:\\"name\\";s:12:\\"sortbyTVType\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_sortbyTVType\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_sortdir\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:4:\\"DESC\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"sortdirTV\\";a:7:{s:4:\\"name\\";s:9:\\"sortdirTV\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_sortdirTV\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:3:\\"ASC\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"offset\\";a:7:{s:4:\\"name\\";s:6:\\"offset\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_offset\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"depth\\";a:7:{s:4:\\"name\\";s:5:\\"depth\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_depth\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"\\n\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"parents\\";a:7:{s:4:\\"name\\";s:7:\\"parents\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_parents\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"includeContent\\";a:7:{s:4:\\"name\\";s:14:\\"includeContent\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_includeContent\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"includeTVs\\";a:7:{s:4:\\"name\\";s:10:\\"includeTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_includeTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"prepareTVs\\";a:7:{s:4:\\"name\\";s:10:\\"prepareTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_prepareTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"1\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"processTVs\\";a:7:{s:4:\\"name\\";s:10:\\"processTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_processTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tvPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"tvPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tvPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"tv.\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"tvFilters\\";a:7:{s:4:\\"name\\";s:9:\\"tvFilters\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_tvFilters\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:21:\\"tvFiltersAndDelimiter\\";a:7:{s:4:\\"name\\";s:21:\\"tvFiltersAndDelimiter\\";s:4:\\"desc\\";s:35:\\"pdotools_prop_tvFiltersAndDelimiter\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\",\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:20:\\"tvFiltersOrDelimiter\\";a:7:{s:4:\\"name\\";s:20:\\"tvFiltersOrDelimiter\\";s:4:\\"desc\\";s:34:\\"pdotools_prop_tvFiltersOrDelimiter\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:2:\\"||\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showHidden\\";a:7:{s:4:\\"name\\";s:10:\\"showHidden\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showHidden\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"hideContainers\\";a:7:{s:4:\\"name\\";s:14:\\"hideContainers\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_hideContainers\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"context\\";a:7:{s:4:\\"name\\";s:7:\\"context\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_context\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"idx\\";a:7:{s:4:\\"name\\";s:3:\\"idx\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_idx\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"first\\";a:7:{s:4:\\"name\\";s:5:\\"first\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_first\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"last\\";a:7:{s:4:\\"name\\";s:4:\\"last\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_last\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplFirst\\";a:7:{s:4:\\"name\\";s:8:\\"tplFirst\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplFirst\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplLast\\";a:7:{s:4:\\"name\\";s:7:\\"tplLast\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplLast\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"tplOdd\\";a:7:{s:4:\\"name\\";s:6:\\"tplOdd\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_tplOdd\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"wrapIfEmpty\\";a:7:{s:4:\\"name\\";s:11:\\"wrapIfEmpty\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_wrapIfEmpty\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"totalVar\\";a:7:{s:4:\\"name\\";s:8:\\"totalVar\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_totalVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"total\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"resources\\";a:7:{s:4:\\"name\\";s:9:\\"resources\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_resources\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplCondition\\";a:7:{s:4:\\"name\\";s:12:\\"tplCondition\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplCondition\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplOperator\\";a:7:{s:4:\\"name\\";s:11:\\"tplOperator\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplOperator\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:10:{i:0;a:2:{s:4:\\"text\\";s:11:\\"is equal to\\";s:5:\\"value\\";s:2:\\"==\\";}i:1;a:2:{s:4:\\"text\\";s:15:\\"is not equal to\\";s:5:\\"value\\";s:2:\\"!=\\";}i:2;a:2:{s:4:\\"text\\";s:9:\\"less than\\";s:5:\\"value\\";s:1:\\"<\\";}i:3;a:2:{s:4:\\"text\\";s:21:\\"less than or equal to\\";s:5:\\"value\\";s:2:\\"<=\\";}i:4;a:2:{s:4:\\"text\\";s:24:\\"greater than or equal to\\";s:5:\\"value\\";s:2:\\">=\\";}i:5;a:2:{s:4:\\"text\\";s:8:\\"is empty\\";s:5:\\"value\\";s:5:\\"empty\\";}i:6;a:2:{s:4:\\"text\\";s:12:\\"is not empty\\";s:5:\\"value\\";s:6:\\"!empty\\";}i:7;a:2:{s:4:\\"text\\";s:7:\\"is null\\";s:5:\\"value\\";s:4:\\"null\\";}i:8;a:2:{s:4:\\"text\\";s:11:\\"is in array\\";s:5:\\"value\\";s:7:\\"inarray\\";}i:9;a:2:{s:4:\\"text\\";s:10:\\"is between\\";s:5:\\"value\\";s:7:\\"between\\";}}s:5:\\"value\\";s:2:\\"==\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"conditionalTpls\\";a:7:{s:4:\\"name\\";s:15:\\"conditionalTpls\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_conditionalTpls\\";s:4:\\"type\\";s:8:\\"textarea\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"select\\";a:7:{s:4:\\"name\\";s:6:\\"select\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_select\\";s:4:\\"type\\";s:8:\\"textarea\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:22:\\"toSeparatePlaceholders\\";a:7:{s:4:\\"name\\";s:22:\\"toSeparatePlaceholders\\";s:4:\\"desc\\";s:36:\\"pdotools_prop_toSeparatePlaceholders\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"loadModels\\";a:7:{s:4:\\"name\\";s:10:\\"loadModels\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_loadModels\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"scheme\\";a:7:{s:4:\\"name\\";s:6:\\"scheme\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_scheme\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:6:{i:0;a:2:{s:5:\\"value\\";s:0:\\"\\";s:4:\\"text\\";s:14:\\"System default\\";}i:1;a:2:{s:5:\\"value\\";i:-1;s:4:\\"text\\";s:25:\\"-1 (relative to site_url)\\";}i:2;a:2:{s:5:\\"value\\";s:4:\\"full\\";s:4:\\"text\\";s:40:\\"full (absolute, prepended with site_url)\\";}i:3;a:2:{s:5:\\"value\\";s:3:\\"abs\\";s:4:\\"text\\";s:39:\\"abs (absolute, prepended with base_url)\\";}i:4;a:2:{s:5:\\"value\\";s:4:\\"http\\";s:4:\\"text\\";s:38:\\"http (absolute, forced to http scheme)\\";}i:5;a:2:{s:5:\\"value\\";s:5:\\"https\\";s:4:\\"text\\";s:40:\\"https (absolute, forced to https scheme)\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"useWeblinkUrl\\";a:7:{s:4:\\"name\\";s:13:\\"useWeblinkUrl\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_useWeblinkUrl\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdoresources.php","content":"\\/** @var array $scriptProperties *\\/\\nif (isset($parents) && $parents === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n}\\nif (!empty($returnIds)) {\\n    $scriptProperties[\'return\'] = \'ids\';\\n}\\n\\n\\/\\/ Adding extra parameters into special place so we can put them in a results\\n\\/** @var modSnippet $snippet *\\/\\n$additionalPlaceholders = $properties = array();\\nif (isset($this) && $this instanceof modSnippet && $this->get(\'properties\')) {\\n    $properties = $this->get(\'properties\');\\n}\\nelseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {\\n    $properties = $snippet->get(\'properties\');\\n}\\nif (!empty($properties)) {\\n    foreach ($scriptProperties as $k => $v) {\\n        if (!isset($properties[$k])) {\\n            $additionalPlaceholders[$k] = $v;\\n        }\\n    }\\n}\\n$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;\\n\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n$output = $pdoFetch->run();\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoResourcesLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\n\\/\\/ Return output\\nif (!empty($returnIds)) {\\n    $modx->setPlaceholder(\'pdoResources.log\', $log);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n} elseif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    $output .= $log;\\n\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $output = $pdoFetch->getChunk($tplWrapper, array_merge($additionalPlaceholders, array(\'output\' => $output)),\\n            $pdoFetch->config[\'fastMode\']);\\n    }\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}"}',
        'guid' => '3ca40351b7d9bb7c5d428d4703bd0fa3',
        'native_key' => 0,
        'signature' => '93d14f3ed64d4da8a253d5b7fcc2f350',
      ),
      'e9d347baec9423000c65ebbb4e0ee9e0' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoUsers","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\n$class = \'modUser\';\\n$profile = \'modUserProfile\';\\n$member = \'modUserGroupMember\';\\n\\n\\/\\/ Start building \\"Where\\" expression\\n$where = array();\\nif (empty($showInactive)) {\\n    $where[$class . \'.active\'] = 1;\\n}\\nif (empty($showBlocked)) {\\n    $where[$profile . \'.blocked\'] = 0;\\n}\\n\\n\\/\\/ Add users profiles and groups\\n$innerJoin = array(\\n    $profile => array(\'alias\' => $profile, \'on\' => \\"$class.id = $profile.internalKey\\"),\\n);\\n\\n\\/\\/ Filter by users, groups and roles\\n$tmp = array(\\n    \'users\' => array(\\n        \'class\' => $class,\\n        \'name\' => \'username\',\\n        \'join\' => $class . \'.id\',\\n    ),\\n    \'groups\' => array(\\n        \'class\' => \'modUserGroup\',\\n        \'name\' => \'name\',\\n        \'join\' => $member . \'.user_group\',\\n    ),\\n    \'roles\' => array(\\n        \'class\' => \'modUserGroupRole\',\\n        \'name\' => \'name\',\\n        \'join\' => $member . \'.role\',\\n    ),\\n);\\nforeach ($tmp as $k => $p) {\\n    if (!empty($$k)) {\\n        $$k = array_map(\'trim\', explode(\',\', $$k));\\n        ${$k . \'_in\'} = ${$k . \'_out\'} = $fetch_in = $fetch_out = array();\\n        foreach ($$k as $v) {\\n            if (is_numeric($v)) {\\n                if ($v[0] == \'-\') {\\n                    ${$k . \'_out\'}[] = abs($v);\\n                } else {\\n                    ${$k . \'_in\'}[] = abs($v);\\n                }\\n            } else {\\n                if ($v[0] == \'-\') {\\n                    $fetch_out[] = $v;\\n                } else {\\n                    $fetch_in[] = $v;\\n                }\\n            }\\n        }\\n\\n        if (!empty($fetch_in) || !empty($fetch_out)) {\\n            $q = $modx->newQuery($p[\'class\'], array($p[\'name\'] . \':IN\' => array_merge($fetch_in, $fetch_out)));\\n            $q->select(\'id,\' . $p[\'name\']);\\n            $tstart = microtime(true);\\n            if ($q->prepare() && $q->stmt->execute()) {\\n                $modx->queryTime += microtime(true) - $tstart;\\n                $modx->executedQueries++;\\n                while ($row = $q->stmt->fetch(PDO::FETCH_ASSOC)) {\\n                    if (in_array($row[$p[\'name\']], $fetch_in)) {\\n                        ${$k . \'_in\'}[] = $row[\'id\'];\\n                    } else {\\n                        ${$k . \'_out\'}[] = $row[\'id\'];\\n                    }\\n                }\\n            }\\n        }\\n\\n        if (!empty(${$k . \'_in\'})) {\\n            $where[$p[\'join\'] . \':IN\'] = ${$k . \'_in\'};\\n        }\\n        if (!empty(${$k . \'_out\'})) {\\n            $where[$p[\'join\'] . \':NOT IN\'] = ${$k . \'_out\'};\\n        }\\n    }\\n}\\n\\nif (!empty($groups_in) || !empty($groups_out) || !empty($roles_in) || !empty($roles_out)) {\\n    $innerJoin[$member] = array(\'alias\' => $member, \'on\' => \\"$class.id = $member.member\\");\\n}\\n\\n\\/\\/ Fields to select\\n$select = array(\\n    $profile => implode(\',\', array_keys($modx->getFieldMeta($profile))),\\n    $class => implode(\',\', array_keys($modx->getFieldMeta($class))),\\n);\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'innerJoin\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n$default = array(\\n    \'class\' => $class,\\n    \'innerJoin\' => json_encode($innerJoin),\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \'groupby\' => $class . \'.id\',\\n    \'sortby\' => $class . \'.id\',\\n    \'sortdir\' => \'ASC\',\\n    \'fastMode\' => false,\\n    \'return\' => !empty($returnIds) ? \'ids\' : \'chunks\',\\n    \'disableConditions\' => true,\\n);\\n\\nif (!empty($users_in) && (empty($scriptProperties[\'sortby\']) || $scriptProperties[\'sortby\'] == $class . \'.id\')) {\\n    $scriptProperties[\'sortby\'] = \\"find_in_set(`$class`.`id`,\'\\" . implode(\',\', $users_in) . \\"\')\\";\\n    $scriptProperties[\'sortdir\'] = \'\';\\n}\\n\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n$output = $pdoFetch->run();\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoUsersLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\n\\/\\/ Return output\\nif (!empty($returnIds)) {\\n    $modx->setPlaceholder(\'pdoUsers.log\', $log);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n} elseif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    $output .= $log;\\n\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output), $pdoFetch->config[\'fastMode\']);\\n    }\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}","locked":0,"properties":"a:30:{s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"returnIds\\";a:7:{s:4:\\"name\\";s:9:\\"returnIds\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_returnIds\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"fastMode\\";a:7:{s:4:\\"name\\";s:8:\\"fastMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_fastMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:10:\\"modUser.id\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_sortdir\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:3:\\"ASC\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"offset\\";a:7:{s:4:\\"name\\";s:6:\\"offset\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_offset\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"\\n\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"groups\\";a:7:{s:4:\\"name\\";s:6:\\"groups\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_groups\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"roles\\";a:7:{s:4:\\"name\\";s:5:\\"roles\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_roles\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"users\\";a:7:{s:4:\\"name\\";s:5:\\"users\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_users\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"showInactive\\";a:7:{s:4:\\"name\\";s:12:\\"showInactive\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_showInactive\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showBlocked\\";a:7:{s:4:\\"name\\";s:11:\\"showBlocked\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showBlocked\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"idx\\";a:7:{s:4:\\"name\\";s:3:\\"idx\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_idx\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"first\\";a:7:{s:4:\\"name\\";s:5:\\"first\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_first\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"last\\";a:7:{s:4:\\"name\\";s:4:\\"last\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_last\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplFirst\\";a:7:{s:4:\\"name\\";s:8:\\"tplFirst\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplFirst\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplLast\\";a:7:{s:4:\\"name\\";s:7:\\"tplLast\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplLast\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"tplOdd\\";a:7:{s:4:\\"name\\";s:6:\\"tplOdd\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_tplOdd\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"wrapIfEmpty\\";a:7:{s:4:\\"name\\";s:11:\\"wrapIfEmpty\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_wrapIfEmpty\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"totalVar\\";a:7:{s:4:\\"name\\";s:8:\\"totalVar\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_totalVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"total\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplCondition\\";a:7:{s:4:\\"name\\";s:12:\\"tplCondition\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplCondition\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplOperator\\";a:7:{s:4:\\"name\\";s:11:\\"tplOperator\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplOperator\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:10:{i:0;a:2:{s:4:\\"text\\";s:11:\\"is equal to\\";s:5:\\"value\\";s:2:\\"==\\";}i:1;a:2:{s:4:\\"text\\";s:15:\\"is not equal to\\";s:5:\\"value\\";s:2:\\"!=\\";}i:2;a:2:{s:4:\\"text\\";s:9:\\"less than\\";s:5:\\"value\\";s:1:\\"<\\";}i:3;a:2:{s:4:\\"text\\";s:21:\\"less than or equal to\\";s:5:\\"value\\";s:2:\\"<=\\";}i:4;a:2:{s:4:\\"text\\";s:24:\\"greater than or equal to\\";s:5:\\"value\\";s:2:\\">=\\";}i:5;a:2:{s:4:\\"text\\";s:8:\\"is empty\\";s:5:\\"value\\";s:5:\\"empty\\";}i:6;a:2:{s:4:\\"text\\";s:12:\\"is not empty\\";s:5:\\"value\\";s:6:\\"!empty\\";}i:7;a:2:{s:4:\\"text\\";s:7:\\"is null\\";s:5:\\"value\\";s:4:\\"null\\";}i:8;a:2:{s:4:\\"text\\";s:11:\\"is in array\\";s:5:\\"value\\";s:7:\\"inarray\\";}i:9;a:2:{s:4:\\"text\\";s:10:\\"is between\\";s:5:\\"value\\";s:7:\\"between\\";}}s:5:\\"value\\";s:2:\\"==\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"conditionalTpls\\";a:7:{s:4:\\"name\\";s:15:\\"conditionalTpls\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_conditionalTpls\\";s:4:\\"type\\";s:8:\\"textarea\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"select\\";a:7:{s:4:\\"name\\";s:6:\\"select\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_select\\";s:4:\\"type\\";s:8:\\"textarea\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:22:\\"toSeparatePlaceholders\\";a:7:{s:4:\\"name\\";s:22:\\"toSeparatePlaceholders\\";s:4:\\"desc\\";s:36:\\"pdotools_prop_toSeparatePlaceholders\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdousers.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\n$class = \'modUser\';\\n$profile = \'modUserProfile\';\\n$member = \'modUserGroupMember\';\\n\\n\\/\\/ Start building \\"Where\\" expression\\n$where = array();\\nif (empty($showInactive)) {\\n    $where[$class . \'.active\'] = 1;\\n}\\nif (empty($showBlocked)) {\\n    $where[$profile . \'.blocked\'] = 0;\\n}\\n\\n\\/\\/ Add users profiles and groups\\n$innerJoin = array(\\n    $profile => array(\'alias\' => $profile, \'on\' => \\"$class.id = $profile.internalKey\\"),\\n);\\n\\n\\/\\/ Filter by users, groups and roles\\n$tmp = array(\\n    \'users\' => array(\\n        \'class\' => $class,\\n        \'name\' => \'username\',\\n        \'join\' => $class . \'.id\',\\n    ),\\n    \'groups\' => array(\\n        \'class\' => \'modUserGroup\',\\n        \'name\' => \'name\',\\n        \'join\' => $member . \'.user_group\',\\n    ),\\n    \'roles\' => array(\\n        \'class\' => \'modUserGroupRole\',\\n        \'name\' => \'name\',\\n        \'join\' => $member . \'.role\',\\n    ),\\n);\\nforeach ($tmp as $k => $p) {\\n    if (!empty($$k)) {\\n        $$k = array_map(\'trim\', explode(\',\', $$k));\\n        ${$k . \'_in\'} = ${$k . \'_out\'} = $fetch_in = $fetch_out = array();\\n        foreach ($$k as $v) {\\n            if (is_numeric($v)) {\\n                if ($v[0] == \'-\') {\\n                    ${$k . \'_out\'}[] = abs($v);\\n                } else {\\n                    ${$k . \'_in\'}[] = abs($v);\\n                }\\n            } else {\\n                if ($v[0] == \'-\') {\\n                    $fetch_out[] = $v;\\n                } else {\\n                    $fetch_in[] = $v;\\n                }\\n            }\\n        }\\n\\n        if (!empty($fetch_in) || !empty($fetch_out)) {\\n            $q = $modx->newQuery($p[\'class\'], array($p[\'name\'] . \':IN\' => array_merge($fetch_in, $fetch_out)));\\n            $q->select(\'id,\' . $p[\'name\']);\\n            $tstart = microtime(true);\\n            if ($q->prepare() && $q->stmt->execute()) {\\n                $modx->queryTime += microtime(true) - $tstart;\\n                $modx->executedQueries++;\\n                while ($row = $q->stmt->fetch(PDO::FETCH_ASSOC)) {\\n                    if (in_array($row[$p[\'name\']], $fetch_in)) {\\n                        ${$k . \'_in\'}[] = $row[\'id\'];\\n                    } else {\\n                        ${$k . \'_out\'}[] = $row[\'id\'];\\n                    }\\n                }\\n            }\\n        }\\n\\n        if (!empty(${$k . \'_in\'})) {\\n            $where[$p[\'join\'] . \':IN\'] = ${$k . \'_in\'};\\n        }\\n        if (!empty(${$k . \'_out\'})) {\\n            $where[$p[\'join\'] . \':NOT IN\'] = ${$k . \'_out\'};\\n        }\\n    }\\n}\\n\\nif (!empty($groups_in) || !empty($groups_out) || !empty($roles_in) || !empty($roles_out)) {\\n    $innerJoin[$member] = array(\'alias\' => $member, \'on\' => \\"$class.id = $member.member\\");\\n}\\n\\n\\/\\/ Fields to select\\n$select = array(\\n    $profile => implode(\',\', array_keys($modx->getFieldMeta($profile))),\\n    $class => implode(\',\', array_keys($modx->getFieldMeta($class))),\\n);\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'innerJoin\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n$default = array(\\n    \'class\' => $class,\\n    \'innerJoin\' => json_encode($innerJoin),\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \'groupby\' => $class . \'.id\',\\n    \'sortby\' => $class . \'.id\',\\n    \'sortdir\' => \'ASC\',\\n    \'fastMode\' => false,\\n    \'return\' => !empty($returnIds) ? \'ids\' : \'chunks\',\\n    \'disableConditions\' => true,\\n);\\n\\nif (!empty($users_in) && (empty($scriptProperties[\'sortby\']) || $scriptProperties[\'sortby\'] == $class . \'.id\')) {\\n    $scriptProperties[\'sortby\'] = \\"find_in_set(`$class`.`id`,\'\\" . implode(\',\', $users_in) . \\"\')\\";\\n    $scriptProperties[\'sortdir\'] = \'\';\\n}\\n\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n$output = $pdoFetch->run();\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoUsersLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\n\\/\\/ Return output\\nif (!empty($returnIds)) {\\n    $modx->setPlaceholder(\'pdoUsers.log\', $log);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n} elseif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    $output .= $log;\\n\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output), $pdoFetch->config[\'fastMode\']);\\n    }\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}"}',
        'guid' => '76ed3a5b2ec7225ddd828bb0cd7f3e92',
        'native_key' => 0,
        'signature' => '931d4d76e8d2da2d7dfd00d06067b68e',
      ),
      '8a421db90f79f646e9d06e0f656cfb7d' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoCrumbs","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\nif (!isset($from) || $from == \'\') {\\n    $from = 0;\\n}\\nif (empty($to)) {\\n    $to = $modx->resource->id;\\n}\\nif (empty($direction)) {\\n    $direction = \'ltr\';\\n}\\nif ($outputSeparator == \'&nbsp;&rarr;&nbsp;\' && $direction == \'rtl\') {\\n    $outputSeparator = \'&nbsp;&larr;&nbsp;\';\\n}\\nif ($limit == \'\') {\\n    $limit = 10;\\n}\\n\\/\\/ For compatibility with BreadCrumb\\nif (!empty($maxCrumbs)) {\\n    $limit = $maxCrumbs;\\n}\\nif (!empty($containerTpl)) {\\n    $tplWrapper = $containerTpl;\\n}\\nif (!empty($currentCrumbTpl)) {\\n    $tplCurrent = $currentCrumbTpl;\\n}\\nif (!empty($linkCrumbTpl)) {\\n    $scriptProperties[\'tpl\'] = $linkCrumbTpl;\\n}\\nif (!empty($maxCrumbTpl)) {\\n    $tplMax = $maxCrumbTpl;\\n}\\nif (isset($showBreadCrumbsAtHome)) {\\n    $showAtHome = $showBreadCrumbsAtHome;\\n}\\nif (isset($showHomeCrumb)) {\\n    $showHome = $showHomeCrumb;\\n}\\nif (isset($showCurrentCrumb)) {\\n    $showCurrent = $showCurrentCrumb;\\n}\\n\\/\\/ --\\n$fastMode = !empty($fastMode);\\n$siteStart = $modx->getOption(\'siteStart\', $scriptProperties, $modx->getOption(\'site_start\'));\\n\\nif (empty($showAtHome) && $modx->resource->id == $siteStart) {\\n    return \'\';\\n}\\n\\n$class = $modx->getOption(\'class\', $scriptProperties, \'modResource\');\\n\\/\\/ Start building \\"Where\\" expression\\n$where = array();\\nif (empty($showUnpublished) && empty($showUnPub)) {\\n    $where[\'published\'] = 1;\\n}\\nif (empty($showHidden)) {\\n    $where[\'hidemenu\'] = 0;\\n}\\nif (empty($showDeleted)) {\\n    $where[\'deleted\'] = 0;\\n}\\nif (!empty($hideContainers) && empty($showContainer)) {\\n    $where[\'isfolder\'] = 0;\\n}\\n\\n$resource = ($to == $modx->resource->id)\\n    ? $modx->resource\\n    : $modx->getObject($class, $to);\\n\\nif (!$resource) {\\n    $message = \'Could not build breadcrumbs to resource \\"\' . $to . \'\\"\';\\n\\n    return \'\';\\n}\\n\\nif (!empty($customParents)) {\\n    $customParents = is_array($customParents) ? $customParents : array_map(\'trim\', explode(\',\', $customParents));\\n    $parents = is_array($customParents) ? array_reverse($customParents) : array();\\n}\\nif (empty($parents)) {\\n    $parents = $modx->getParentIds($resource->id, $limit, array(\'context\' => $resource->get(\'context_key\')));\\n}\\nif (!empty($showHome)) {\\n    $parents[] = $siteStart;\\n}\\n\\n$ids = array($resource->id);\\nforeach ($parents as $parent) {\\n    if (!empty($parent)) {\\n        $ids[] = $parent;\\n    }\\n    if (!empty($from) && $parent == $from) {\\n        break;\\n    }\\n}\\n$where[\'id:IN\'] = $ids;\\n\\nif (!empty($exclude)) {\\n    $where[\'id:NOT IN\'] = array_map(\'trim\', explode(\',\', $exclude));\\n}\\n\\n\\/\\/ Fields to select\\n$resourceColumns = array_keys($modx->getFieldMeta($class));\\n$select = array($class => implode(\',\', $resourceColumns));\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \'groupby\' => $class . \'.id\',\\n    \'sortby\' => \\"find_in_set(`$class`.`id`,\'\\" . implode(\',\', $ids) . \\"\')\\",\\n    \'sortdir\' => \'\',\\n    \'return\' => \'data\',\\n    \'totalVar\' => \'pdocrumbs.total\',\\n    \'disableConditions\' => true,\\n);\\n\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n$rows = $pdoFetch->run();\\n\\n$output = array();\\nif (!empty($rows) && is_array($rows)) {\\n    if (strtolower($direction) == \'ltr\') {\\n        $rows = array_reverse($rows);\\n    }\\n\\n    foreach ($rows as $row) {\\n        if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\\n            $row[\'link\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\\n                ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\\n                : $row[\'content\'];\\n        } else {\\n            $row[\'link\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\\n        }\\n\\n        $row = array_merge(\\n            $scriptProperties,\\n            $row,\\n            array(\'idx\' => $pdoFetch->idx++)\\n        );\\n        if (empty($row[\'menutitle\'])) {\\n            $row[\'menutitle\'] = $row[\'pagetitle\'];\\n        }\\n\\n        if ($row[\'id\'] == $resource->id && empty($showCurrent)) {\\n            continue;\\n        } elseif ($row[\'id\'] == $resource->id && !empty($tplCurrent)) {\\n            $tpl = $tplCurrent;\\n        } elseif ($row[\'id\'] == $siteStart && !empty($tplHome)) {\\n            $tpl = $tplHome;\\n        } else {\\n            $tpl = $pdoFetch->defineChunk($row);\\n        }\\n        $output[] = empty($tpl)\\n            ? \'<pre>\' . $pdoFetch->getChunk(\'\', $row) . \'<\\/pre>\'\\n            : $pdoFetch->getChunk($tpl, $row, $fastMode);\\n    }\\n}\\n$pdoFetch->addTime(\'Chunks processed\');\\n\\nif (count($output) == 1 && !empty($hideSingle)) {\\n    $pdoFetch->addTime(\'The only result was hidden, because the parameter \\"hideSingle\\" activated\');\\n    $output = array();\\n}\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoCrumbsLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    $output = implode($outputSeparator, $output);\\n    if ($pdoFetch->idx >= $limit && !empty($tplMax) && !empty($output)) {\\n        $output = ($direction == \'ltr\')\\n            ? $pdoFetch->getChunk($tplMax, array(), $fastMode) . $output\\n            : $output . $pdoFetch->getChunk($tplMax, array(), $fastMode);\\n    }\\n    $output .= $log;\\n\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output, \'crumbs\' => $output), $fastMode);\\n    }\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}","locked":0,"properties":"a:31:{s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"fastMode\\";a:7:{s:4:\\"name\\";s:8:\\"fastMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_fastMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"from\\";a:7:{s:4:\\"name\\";s:4:\\"from\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_from\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:2:\\"to\\";a:7:{s:4:\\"name\\";s:2:\\"to\\";s:4:\\"desc\\";s:16:\\"pdotools_prop_to\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"customParents\\";a:7:{s:4:\\"name\\";s:13:\\"customParents\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_customParents\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"exclude\\";a:7:{s:4:\\"name\\";s:7:\\"exclude\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_exclude\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"\\n\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"includeTVs\\";a:7:{s:4:\\"name\\";s:10:\\"includeTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_includeTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"prepareTVs\\";a:7:{s:4:\\"name\\";s:10:\\"prepareTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_prepareTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"1\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"processTVs\\";a:7:{s:4:\\"name\\";s:10:\\"processTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_processTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tvPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"tvPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tvPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"tv.\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showHidden\\";a:7:{s:4:\\"name\\";s:10:\\"showHidden\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showHidden\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"hideContainers\\";a:7:{s:4:\\"name\\";s:14:\\"hideContainers\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_hideContainers\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:79:\\"@INLINE <li class=\\"breadcrumb-item\\"><a href=\\"[[+link]]\\">[[+menutitle]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplCurrent\\";a:7:{s:4:\\"name\\";s:10:\\"tplCurrent\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_tplCurrent\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:62:\\"@INLINE <li class=\\"breadcrumb-item active\\">[[+menutitle]]<\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"tplMax\\";a:7:{s:4:\\"name\\";s:6:\\"tplMax\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_tplMax\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:65:\\"@INLINE <li class=\\"breadcrumb-item disabled\\">&nbsp;...&nbsp;<\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplHome\\";a:7:{s:4:\\"name\\";s:7:\\"tplHome\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplHome\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:47:\\"@INLINE <ol class=\\"breadcrumb\\">[[+output]]<\\/ol>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"wrapIfEmpty\\";a:7:{s:4:\\"name\\";s:11:\\"wrapIfEmpty\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_wrapIfEmpty\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showCurrent\\";a:7:{s:4:\\"name\\";s:11:\\"showCurrent\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showCurrent\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"showHome\\";a:7:{s:4:\\"name\\";s:8:\\"showHome\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_showHome\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showAtHome\\";a:7:{s:4:\\"name\\";s:10:\\"showAtHome\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showAtHome\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"hideSingle\\";a:7:{s:4:\\"name\\";s:10:\\"hideSingle\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_hideSingle\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"direction\\";a:7:{s:4:\\"name\\";s:9:\\"direction\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_direction\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:5:\\"value\\";s:3:\\"ltr\\";s:4:\\"text\\";s:19:\\"Left To Right (ltr)\\";}i:1;a:2:{s:5:\\"value\\";s:3:\\"rtl\\";s:4:\\"text\\";s:19:\\"Right To Left (rtl)\\";}}s:5:\\"value\\";s:3:\\"ltr\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"scheme\\";a:7:{s:4:\\"name\\";s:6:\\"scheme\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_scheme\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:6:{i:0;a:2:{s:5:\\"value\\";s:0:\\"\\";s:4:\\"text\\";s:14:\\"System default\\";}i:1;a:2:{s:5:\\"value\\";i:-1;s:4:\\"text\\";s:25:\\"-1 (relative to site_url)\\";}i:2;a:2:{s:5:\\"value\\";s:4:\\"full\\";s:4:\\"text\\";s:40:\\"full (absolute, prepended with site_url)\\";}i:3;a:2:{s:5:\\"value\\";s:3:\\"abs\\";s:4:\\"text\\";s:39:\\"abs (absolute, prepended with base_url)\\";}i:4;a:2:{s:5:\\"value\\";s:4:\\"http\\";s:4:\\"text\\";s:38:\\"http (absolute, forced to http scheme)\\";}i:5;a:2:{s:5:\\"value\\";s:5:\\"https\\";s:4:\\"text\\";s:40:\\"https (absolute, forced to https scheme)\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"useWeblinkUrl\\";a:7:{s:4:\\"name\\";s:13:\\"useWeblinkUrl\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_useWeblinkUrl\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdocrumbs.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\nif (!isset($from) || $from == \'\') {\\n    $from = 0;\\n}\\nif (empty($to)) {\\n    $to = $modx->resource->id;\\n}\\nif (empty($direction)) {\\n    $direction = \'ltr\';\\n}\\nif ($outputSeparator == \'&nbsp;&rarr;&nbsp;\' && $direction == \'rtl\') {\\n    $outputSeparator = \'&nbsp;&larr;&nbsp;\';\\n}\\nif ($limit == \'\') {\\n    $limit = 10;\\n}\\n\\/\\/ For compatibility with BreadCrumb\\nif (!empty($maxCrumbs)) {\\n    $limit = $maxCrumbs;\\n}\\nif (!empty($containerTpl)) {\\n    $tplWrapper = $containerTpl;\\n}\\nif (!empty($currentCrumbTpl)) {\\n    $tplCurrent = $currentCrumbTpl;\\n}\\nif (!empty($linkCrumbTpl)) {\\n    $scriptProperties[\'tpl\'] = $linkCrumbTpl;\\n}\\nif (!empty($maxCrumbTpl)) {\\n    $tplMax = $maxCrumbTpl;\\n}\\nif (isset($showBreadCrumbsAtHome)) {\\n    $showAtHome = $showBreadCrumbsAtHome;\\n}\\nif (isset($showHomeCrumb)) {\\n    $showHome = $showHomeCrumb;\\n}\\nif (isset($showCurrentCrumb)) {\\n    $showCurrent = $showCurrentCrumb;\\n}\\n\\/\\/ --\\n$fastMode = !empty($fastMode);\\n$siteStart = $modx->getOption(\'siteStart\', $scriptProperties, $modx->getOption(\'site_start\'));\\n\\nif (empty($showAtHome) && $modx->resource->id == $siteStart) {\\n    return \'\';\\n}\\n\\n$class = $modx->getOption(\'class\', $scriptProperties, \'modResource\');\\n\\/\\/ Start building \\"Where\\" expression\\n$where = array();\\nif (empty($showUnpublished) && empty($showUnPub)) {\\n    $where[\'published\'] = 1;\\n}\\nif (empty($showHidden)) {\\n    $where[\'hidemenu\'] = 0;\\n}\\nif (empty($showDeleted)) {\\n    $where[\'deleted\'] = 0;\\n}\\nif (!empty($hideContainers) && empty($showContainer)) {\\n    $where[\'isfolder\'] = 0;\\n}\\n\\n$resource = ($to == $modx->resource->id)\\n    ? $modx->resource\\n    : $modx->getObject($class, $to);\\n\\nif (!$resource) {\\n    $message = \'Could not build breadcrumbs to resource \\"\' . $to . \'\\"\';\\n\\n    return \'\';\\n}\\n\\nif (!empty($customParents)) {\\n    $customParents = is_array($customParents) ? $customParents : array_map(\'trim\', explode(\',\', $customParents));\\n    $parents = is_array($customParents) ? array_reverse($customParents) : array();\\n}\\nif (empty($parents)) {\\n    $parents = $modx->getParentIds($resource->id, $limit, array(\'context\' => $resource->get(\'context_key\')));\\n}\\nif (!empty($showHome)) {\\n    $parents[] = $siteStart;\\n}\\n\\n$ids = array($resource->id);\\nforeach ($parents as $parent) {\\n    if (!empty($parent)) {\\n        $ids[] = $parent;\\n    }\\n    if (!empty($from) && $parent == $from) {\\n        break;\\n    }\\n}\\n$where[\'id:IN\'] = $ids;\\n\\nif (!empty($exclude)) {\\n    $where[\'id:NOT IN\'] = array_map(\'trim\', explode(\',\', $exclude));\\n}\\n\\n\\/\\/ Fields to select\\n$resourceColumns = array_keys($modx->getFieldMeta($class));\\n$select = array($class => implode(\',\', $resourceColumns));\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \'groupby\' => $class . \'.id\',\\n    \'sortby\' => \\"find_in_set(`$class`.`id`,\'\\" . implode(\',\', $ids) . \\"\')\\",\\n    \'sortdir\' => \'\',\\n    \'return\' => \'data\',\\n    \'totalVar\' => \'pdocrumbs.total\',\\n    \'disableConditions\' => true,\\n);\\n\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n$rows = $pdoFetch->run();\\n\\n$output = array();\\nif (!empty($rows) && is_array($rows)) {\\n    if (strtolower($direction) == \'ltr\') {\\n        $rows = array_reverse($rows);\\n    }\\n\\n    foreach ($rows as $row) {\\n        if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\\n            $row[\'link\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\\n                ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\\n                : $row[\'content\'];\\n        } else {\\n            $row[\'link\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\\n        }\\n\\n        $row = array_merge(\\n            $scriptProperties,\\n            $row,\\n            array(\'idx\' => $pdoFetch->idx++)\\n        );\\n        if (empty($row[\'menutitle\'])) {\\n            $row[\'menutitle\'] = $row[\'pagetitle\'];\\n        }\\n\\n        if ($row[\'id\'] == $resource->id && empty($showCurrent)) {\\n            continue;\\n        } elseif ($row[\'id\'] == $resource->id && !empty($tplCurrent)) {\\n            $tpl = $tplCurrent;\\n        } elseif ($row[\'id\'] == $siteStart && !empty($tplHome)) {\\n            $tpl = $tplHome;\\n        } else {\\n            $tpl = $pdoFetch->defineChunk($row);\\n        }\\n        $output[] = empty($tpl)\\n            ? \'<pre>\' . $pdoFetch->getChunk(\'\', $row) . \'<\\/pre>\'\\n            : $pdoFetch->getChunk($tpl, $row, $fastMode);\\n    }\\n}\\n$pdoFetch->addTime(\'Chunks processed\');\\n\\nif (count($output) == 1 && !empty($hideSingle)) {\\n    $pdoFetch->addTime(\'The only result was hidden, because the parameter \\"hideSingle\\" activated\');\\n    $output = array();\\n}\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoCrumbsLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    $output = implode($outputSeparator, $output);\\n    if ($pdoFetch->idx >= $limit && !empty($tplMax) && !empty($output)) {\\n        $output = ($direction == \'ltr\')\\n            ? $pdoFetch->getChunk($tplMax, array(), $fastMode) . $output\\n            : $output . $pdoFetch->getChunk($tplMax, array(), $fastMode);\\n    }\\n    $output .= $log;\\n\\n    if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n        $output = $pdoFetch->getChunk($tplWrapper, array(\'output\' => $output, \'crumbs\' => $output), $fastMode);\\n    }\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}"}',
        'guid' => '879672349d2ef0cd99804c44b22678b3',
        'native_key' => 0,
        'signature' => '2b2bb9065333b650cb72c9544e97ff3f',
      ),
      '0a4bfb2482c2c1137f7cac237451fa4a' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoField","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\nif (!empty($input)) {\\n    $id = $input;\\n}\\nif (!isset($default)) {\\n    $default = \'\';\\n}\\nif (!isset($output)) {\\n    $output = \'\';\\n}\\n$class = $modx->getOption(\'class\', $scriptProperties, \'modResource\', true);\\n$isResource = $class == \'modResource\' || in_array($class, $modx->getDescendants(\'modResource\'));\\n\\nif (empty($field)) {\\n    $field = \'pagetitle\';\\n}\\n$top = isset($top) ? intval($top) : 0;\\n$topLevel = isset($topLevel) ? intval($topLevel) : 0;\\nif (!empty($options)) {\\n    $options = trim($options);\\n    if ($options[0] == \'{\') {\\n        $tmp = json_decode($options, true);\\n        if (is_array($tmp)) {\\n            extract($tmp);\\n            $scriptProperties = array_merge($scriptProperties, $tmp);\\n        }\\n    } else {\\n        $field = $options;\\n    }\\n}\\nif (empty($id)) {\\n    if (!empty($modx->resource)) {\\n        $id = $modx->resource->id;\\n    } else {\\n        return \'You must specify an id of \' . $class;\\n    }\\n}\\nif (!isset($context)) {\\n    $context = \'\';\\n}\\n\\n\\/\\/ Gets the parent from root of context, if specified\\nif ($isResource && $id && ($top || $topLevel)) {\\n    \\/\\/ Select needed context for parents functionality\\n    if (empty($context)) {\\n        $q = $modx->newQuery($class, $id);\\n        $q->select(\'context_key\');\\n        $tstart = microtime(true);\\n        if ($q->prepare() && $q->stmt->execute()) {\\n            $modx->queryTime += microtime(true) - $tstart;\\n            $modx->executedQueries++;\\n            $context = $q->stmt->fetch(PDO::FETCH_COLUMN);\\n        }\\n    }\\n    \\/\\/ Original pdoField logic\\n    if (empty($ultimate)) {\\n        if ($topLevel) {\\n            $pids = $modx->getChildIds(0, $topLevel, array(\'context\' => $context));\\n            $pid = $id;\\n            while (true) {\\n                $tmp = $modx->getParentIds($pid, 1, array(\'context\' => $context));\\n                if (!$pid = current($tmp)) {\\n                    break;\\n                } elseif (in_array($pid, $pids)) {\\n                    $id = $pid;\\n                    break;\\n                }\\n            }\\n        } elseif ($top) {\\n            $pid = $id;\\n            for ($i = 1; $i <= $top; $i++) {\\n                $tmp = $modx->getParentIds($pid, 1, array(\'context\' => $context));\\n                if (!$pid = current($tmp)) {\\n                    break;\\n                }\\n                $id = $pid;\\n            }\\n        }\\n    }\\n    \\/\\/ UltimateParent logic\\n    \\/\\/ https:\\/\\/github.com\\/splittingred\\/UltimateParent\\/blob\\/develop\\/core\\/components\\/ultimateparent\\/snippet.ultimateparent.php\\n    elseif ($id != $top) {\\n        $pid = $id;\\n        $pids = $modx->getParentIds($id, 10, array(\'context\' => $context));\\n        if (!$topLevel || count($pids) >= $topLevel) {\\n            while ($parentIds = $modx->getParentIds($id, 1, array(\'context\' => $context))) {\\n                $pid = array_pop($parentIds);\\n                if ($pid == $top) {\\n                    break;\\n                }\\n                $id = $pid;\\n                $parentIds = $modx->getParentIds($id, 10, array(\'context\' => $context));\\n                if ($topLevel && count($parentIds) < $topLevel) {\\n                    break;\\n                }\\n            }\\n        }\\n    }\\n}\\n\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\n$where = array($class . \'.id\' => $id);\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Fields to select\\n$resourceColumns = array_keys($modx->getFieldMeta($class));\\n$field = strtolower($field);\\nif (in_array($field, $resourceColumns)) {\\n    $scriptProperties[\'select\'] = array($class => $field);\\n    $scriptProperties[\'includeTVs\'] = \'\';\\n} elseif ($isResource) {\\n    $scriptProperties[\'select\'] = array($class => \'id\');\\n    $scriptProperties[\'includeTVs\'] = $field;\\n}\\n\\/\\/ Additional default field\\nif (!empty($default)) {\\n    $default = strtolower($default);\\n    if (in_array($default, $resourceColumns)) {\\n        $scriptProperties[\'select\'][$class] .= \',\' . $default;\\n    } elseif ($isResource) {\\n        $scriptProperties[\'includeTVs\'] = empty($scriptProperties[\'includeTVs\'])\\n            ? $default\\n            : $scriptProperties[\'includeTVs\'] . \',\' . $default;\\n    }\\n}\\n\\n$scriptProperties[\'disableConditions\'] = true;\\nif ($row = $pdoFetch->getObject($class, $where, $scriptProperties)) {\\n    foreach ($row as $k => $v) {\\n        if (strtolower($k) == $field && $v != \'\') {\\n            $output = $v;\\n            break;\\n        }\\n    }\\n\\n    if (empty($output) && !empty($default)) {\\n        foreach ($row as $k => $v) {\\n            if (strtolower($k) == $default && $v != \'\') {\\n                $output = $v;\\n                break;\\n            }\\n        }\\n    }\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}","locked":0,"properties":"a:12:{s:2:\\"id\\";a:7:{s:4:\\"name\\";s:2:\\"id\\";s:4:\\"desc\\";s:16:\\"pdotools_prop_id\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"field\\";a:7:{s:4:\\"name\\";s:5:\\"field\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_field\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"pagetitle\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"prepareTVs\\";a:7:{s:4:\\"name\\";s:10:\\"prepareTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_prepareTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"1\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"processTVs\\";a:7:{s:4:\\"name\\";s:10:\\"processTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_processTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"context\\";a:7:{s:4:\\"name\\";s:7:\\"context\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_field_context\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"top\\";a:7:{s:4:\\"name\\";s:3:\\"top\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_top\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"topLevel\\";a:7:{s:4:\\"name\\";s:8:\\"topLevel\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_topLevel\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"default\\";a:7:{s:4:\\"name\\";s:7:\\"default\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_field_default\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"output\\";a:7:{s:4:\\"name\\";s:6:\\"output\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_field_output\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"ultimate\\";a:7:{s:4:\\"name\\";s:8:\\"ultimate\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_ultimate\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdofield.php","content":"\\/** @var array $scriptProperties *\\/\\nif (!empty($input)) {\\n    $id = $input;\\n}\\nif (!isset($default)) {\\n    $default = \'\';\\n}\\nif (!isset($output)) {\\n    $output = \'\';\\n}\\n$class = $modx->getOption(\'class\', $scriptProperties, \'modResource\', true);\\n$isResource = $class == \'modResource\' || in_array($class, $modx->getDescendants(\'modResource\'));\\n\\nif (empty($field)) {\\n    $field = \'pagetitle\';\\n}\\n$top = isset($top) ? intval($top) : 0;\\n$topLevel = isset($topLevel) ? intval($topLevel) : 0;\\nif (!empty($options)) {\\n    $options = trim($options);\\n    if ($options[0] == \'{\') {\\n        $tmp = json_decode($options, true);\\n        if (is_array($tmp)) {\\n            extract($tmp);\\n            $scriptProperties = array_merge($scriptProperties, $tmp);\\n        }\\n    } else {\\n        $field = $options;\\n    }\\n}\\nif (empty($id)) {\\n    if (!empty($modx->resource)) {\\n        $id = $modx->resource->id;\\n    } else {\\n        return \'You must specify an id of \' . $class;\\n    }\\n}\\nif (!isset($context)) {\\n    $context = \'\';\\n}\\n\\n\\/\\/ Gets the parent from root of context, if specified\\nif ($isResource && $id && ($top || $topLevel)) {\\n    \\/\\/ Select needed context for parents functionality\\n    if (empty($context)) {\\n        $q = $modx->newQuery($class, $id);\\n        $q->select(\'context_key\');\\n        $tstart = microtime(true);\\n        if ($q->prepare() && $q->stmt->execute()) {\\n            $modx->queryTime += microtime(true) - $tstart;\\n            $modx->executedQueries++;\\n            $context = $q->stmt->fetch(PDO::FETCH_COLUMN);\\n        }\\n    }\\n    \\/\\/ Original pdoField logic\\n    if (empty($ultimate)) {\\n        if ($topLevel) {\\n            $pids = $modx->getChildIds(0, $topLevel, array(\'context\' => $context));\\n            $pid = $id;\\n            while (true) {\\n                $tmp = $modx->getParentIds($pid, 1, array(\'context\' => $context));\\n                if (!$pid = current($tmp)) {\\n                    break;\\n                } elseif (in_array($pid, $pids)) {\\n                    $id = $pid;\\n                    break;\\n                }\\n            }\\n        } elseif ($top) {\\n            $pid = $id;\\n            for ($i = 1; $i <= $top; $i++) {\\n                $tmp = $modx->getParentIds($pid, 1, array(\'context\' => $context));\\n                if (!$pid = current($tmp)) {\\n                    break;\\n                }\\n                $id = $pid;\\n            }\\n        }\\n    }\\n    \\/\\/ UltimateParent logic\\n    \\/\\/ https:\\/\\/github.com\\/splittingred\\/UltimateParent\\/blob\\/develop\\/core\\/components\\/ultimateparent\\/snippet.ultimateparent.php\\n    elseif ($id != $top) {\\n        $pid = $id;\\n        $pids = $modx->getParentIds($id, 10, array(\'context\' => $context));\\n        if (!$topLevel || count($pids) >= $topLevel) {\\n            while ($parentIds = $modx->getParentIds($id, 1, array(\'context\' => $context))) {\\n                $pid = array_pop($parentIds);\\n                if ($pid == $top) {\\n                    break;\\n                }\\n                $id = $pid;\\n                $parentIds = $modx->getParentIds($id, 10, array(\'context\' => $context));\\n                if ($topLevel && count($parentIds) < $topLevel) {\\n                    break;\\n                }\\n            }\\n        }\\n    }\\n}\\n\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\n$where = array($class . \'.id\' => $id);\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Fields to select\\n$resourceColumns = array_keys($modx->getFieldMeta($class));\\n$field = strtolower($field);\\nif (in_array($field, $resourceColumns)) {\\n    $scriptProperties[\'select\'] = array($class => $field);\\n    $scriptProperties[\'includeTVs\'] = \'\';\\n} elseif ($isResource) {\\n    $scriptProperties[\'select\'] = array($class => \'id\');\\n    $scriptProperties[\'includeTVs\'] = $field;\\n}\\n\\/\\/ Additional default field\\nif (!empty($default)) {\\n    $default = strtolower($default);\\n    if (in_array($default, $resourceColumns)) {\\n        $scriptProperties[\'select\'][$class] .= \',\' . $default;\\n    } elseif ($isResource) {\\n        $scriptProperties[\'includeTVs\'] = empty($scriptProperties[\'includeTVs\'])\\n            ? $default\\n            : $scriptProperties[\'includeTVs\'] . \',\' . $default;\\n    }\\n}\\n\\n$scriptProperties[\'disableConditions\'] = true;\\nif ($row = $pdoFetch->getObject($class, $where, $scriptProperties)) {\\n    foreach ($row as $k => $v) {\\n        if (strtolower($k) == $field && $v != \'\') {\\n            $output = $v;\\n            break;\\n        }\\n    }\\n\\n    if (empty($output) && !empty($default)) {\\n        foreach ($row as $k => $v) {\\n            if (strtolower($k) == $default && $v != \'\') {\\n                $output = $v;\\n                break;\\n            }\\n        }\\n    }\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}"}',
        'guid' => 'cd96326cb4b9644b47466bf95a675fe0',
        'native_key' => 0,
        'signature' => '952bc9c27a422bae4273de84757e740b',
      ),
      'd5d3f5b3e08e574c6da516a840f63645' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoSitemap","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\n\\/\\/ Default variables\\nif (empty($tpl)) {\\n    $tpl = \\"@INLINE \\\\n<url>\\\\n\\\\t<loc>[[+url]]<\\/loc>\\\\n\\\\t<lastmod>[[+date]]<\\/lastmod>\\\\n\\\\t<changefreq>[[+update]]<\\/changefreq>\\\\n\\\\t<priority>[[+priority]]<\\/priority>\\\\n<\\/url>\\";\\n}\\nif (empty($tplWrapper)) {\\n    $tplWrapper = \\"@INLINE <?xml version=\\\\\\"1.0\\\\\\" encoding=\\\\\\"[[++modx_charset]]\\\\\\"?>\\\\n<urlset xmlns=\\\\\\"[[+schema]]\\\\\\">\\\\n[[+output]]\\\\n<\\/urlset>\\";\\n}\\nif (empty($sitemapSchema)) {\\n    $sitemapSchema = \'http:\\/\\/www.sitemaps.org\\/schemas\\/sitemap\\/0.9\';\\n}\\nif (empty($outputSeparator)) {\\n    $outputSeparator = \\"\\\\n\\";\\n}\\nif (empty($cacheKey)) {\\n    $scriptProperties[\'cacheKey\'] = \'sitemap\\/\' . substr(md5(json_encode($scriptProperties)), 0, 6);\\n}\\n\\n\\/\\/ Convert parameters from GoogleSiteMap if exists\\nif (!empty($itemTpl)) {\\n    $tpl = $itemTpl;\\n}\\nif (!empty($containerTpl)) {\\n    $tplWrapper = $containerTpl;\\n}\\nif (!empty($allowedtemplates)) {\\n    $scriptProperties[\'templates\'] = $allowedtemplates;\\n}\\nif (!empty($maxDepth)) {\\n    $scriptProperties[\'depth\'] = $maxDepth;\\n}\\nif (isset($hideDeleted)) {\\n    $scriptProperties[\'showDeleted\'] = !$hideDeleted;\\n}\\nif (isset($published)) {\\n    $scriptProperties[\'showUnpublished\'] = !$published;\\n}\\nif (isset($searchable)) {\\n    $scriptProperties[\'showUnsearchable\'] = !$searchable;\\n}\\nif (!empty($googleSchema)) {\\n    $sitemapSchema = $googleSchema;\\n}\\nif (!empty($excludeResources)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeResources));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = \'-\' . $v;\\n        }\\n    }\\n}\\nif (!empty($excludeChildrenOf)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeChildrenOf));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'parents\'])) {\\n            $scriptProperties[\'parents\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'parents\'] = \'-\' . $v;\\n        }\\n    }\\n}\\nif (!empty($startId)) {\\n    if (!empty($scriptProperties[\'parents\'])) {\\n        $scriptProperties[\'parents\'] .= \',\' . $startId;\\n    } else {\\n        $scriptProperties[\'parents\'] = $startId;\\n    }\\n}\\nif (!empty($sortBy)) {\\n    $scriptProperties[\'sortby\'] = $sortBy;\\n}\\nif (!empty($sortDir)) {\\n    $scriptProperties[\'sortdir\'] = $sortDir;\\n}\\nif (!empty($priorityTV)) {\\n    if (!empty($scriptProperties[\'includeTVs\'])) {\\n        $scriptProperties[\'includeTVs\'] .= \',\' . $priorityTV;\\n    } else {\\n        $scriptProperties[\'includeTVs\'] = $priorityTV;\\n    }\\n}\\nif (!empty($itemSeparator)) {\\n    $outputSeparator = $itemSeparator;\\n}\\n\\/\\/---\\n\\n\\n$class = \'modResource\';\\n$where = array();\\nif (empty($showHidden)) {\\n    $where[] = array(\\n        $class . \'.hidemenu\' => 0,\\n        \'OR:\' . $class . \'.class_key:IN\' => array(\'Ticket\', \'Article\'),\\n    );\\n}\\nif (empty($context)) {\\n    $scriptProperties[\'context\'] = $modx->context->key;\\n}\\n\\n$select = array($class => \'id,editedon,createdon,context_key,class_key,uri\');\\nif (!empty($useWeblinkUrl)) {\\n    $select[$class] .= \',content\';\\n}\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \'sortby\' => \\"{$class}.parent ASC, {$class}.menuindex\\",\\n    \'sortdir\' => \'ASC\',\\n    \'return\' => \'data\',\\n    \'scheme\' => \'full\',\\n    \'limit\' => 0,\\n);\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n\\nif (!empty($cache)) {\\n    $data = $pdoFetch->getCache($scriptProperties);\\n}\\nif (empty($data)) {\\n    $now = time();\\n    $data = $urls = array();\\n    $rows = $pdoFetch->run();\\n    foreach ($rows as $row) {\\n        if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\\n            $row[\'url\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\\n                ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\\n                : $row[\'content\'];\\n        } else {\\n            $row[\'url\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\\n        }\\n\\n        $time = !empty($row[\'editedon\'])\\n            ? $row[\'editedon\']\\n            : $row[\'createdon\'];\\n        $row[\'date\'] = date(\'c\', $time);\\n\\n        $datediff = floor(($now - $time) \\/ 86400);\\n        if ($datediff <= 1) {\\n            $row[\'priority\'] = \'1.0\';\\n            $row[\'update\'] = \'daily\';\\n        } elseif (($datediff > 1) && ($datediff <= 7)) {\\n            $row[\'priority\'] = \'0.75\';\\n            $row[\'update\'] = \'weekly\';\\n        } elseif (($datediff > 7) && ($datediff <= 30)) {\\n            $row[\'priority\'] = \'0.50\';\\n            $row[\'update\'] = \'weekly\';\\n        } else {\\n            $row[\'priority\'] = \'0.25\';\\n            $row[\'update\'] = \'monthly\';\\n        }\\n        if (!empty($priorityTV) && !empty($row[$priorityTV])) {\\n            $row[\'priority\'] = $row[$priorityTV];\\n        }\\n\\n        \\/\\/ Fix possible duplicates made by modWebLink\\n        if (!empty($urls[$row[\'url\']])) {\\n            if ($urls[$row[\'url\']] > $row[\'date\']) {\\n                continue;\\n            }\\n        }\\n        $urls[$row[\'url\']] = $row[\'date\'];\\n\\n        \\/\\/ Add item to output\\n        $data[$row[\'url\']] = $pdoFetch->parseChunk($tpl, $row);\\n        if (strpos($data[$row[\'url\']], \'[[\') !== false) {\\n            $modx->parser->processElementTags(\'\', $data[$row[\'url\']], true, true, \'[[\', \']]\', array(), 10);\\n        }\\n    }\\n    $pdoFetch->addTime(\'Rows processed\');\\n    if (!empty($cache)) {\\n        $pdoFetch->setCache($data, $scriptProperties);\\n    }\\n}\\n\\n$output = implode($outputSeparator, $data);\\n$output = $pdoFetch->getChunk($tplWrapper, array(\\n    \'schema\' => $sitemapSchema,\\n    \'output\' => $output,\\n    \'items\' => $output,\\n));\\n$pdoFetch->addTime(\'Rows wrapped\');\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoSitemapLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($forceXML)) {\\n    header(\\"Content-Type:text\\/xml\\");\\n    @session_write_close();\\n    exit($output);\\n} else {\\n    return $output;\\n}","locked":0,"properties":"a:24:{s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:145:\\"@INLINE <url>\\n\\t<loc>[[+url]]<\\/loc>\\n\\t<lastmod>[[+date]]<\\/lastmod>\\n\\t<changefreq>[[+update]]<\\/changefreq>\\n\\t<priority>[[+priority]]<\\/priority>\\n<\\/url>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:110:\\"@INLINE <?xml version=\\"1.0\\" encoding=\\"[[++modx_charset]]\\"?>\\n<urlset xmlns=\\"[[+schema]]\\">\\n[[+output]]\\n<\\/urlset>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"templates\\";a:7:{s:4:\\"name\\";s:9:\\"templates\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_templates\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"context\\";a:7:{s:4:\\"name\\";s:7:\\"context\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_context\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"depth\\";a:7:{s:4:\\"name\\";s:5:\\"depth\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_depth\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showHidden\\";a:7:{s:4:\\"name\\";s:10:\\"showHidden\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showHidden\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"sitemapSchema\\";a:7:{s:4:\\"name\\";s:13:\\"sitemapSchema\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_sitemapSchema\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:43:\\"http:\\/\\/www.sitemaps.org\\/schemas\\/sitemap\\/0.9\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"hideUnsearchable\\";a:7:{s:4:\\"name\\";s:16:\\"hideUnsearchable\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_hideUnsearchable\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"resources\\";a:7:{s:4:\\"name\\";s:9:\\"resources\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_resources\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"parents\\";a:7:{s:4:\\"name\\";s:7:\\"parents\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_parents\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"menuindex\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_sortdir\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"asc\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"includeTVs\\";a:7:{s:4:\\"name\\";s:10:\\"includeTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_includeTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"prepareTVs\\";a:7:{s:4:\\"name\\";s:10:\\"prepareTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_prepareTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"1\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"processTVs\\";a:7:{s:4:\\"name\\";s:10:\\"processTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_processTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"\\n\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"forceXML\\";a:7:{s:4:\\"name\\";s:8:\\"forceXML\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_forceXML\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"useWeblinkUrl\\";a:7:{s:4:\\"name\\";s:13:\\"useWeblinkUrl\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_useWeblinkUrl\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"cache\\";a:7:{s:4:\\"name\\";s:5:\\"cache\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_cache\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"cacheKey\\";a:7:{s:4:\\"name\\";s:8:\\"cacheKey\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_cacheKey\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"cacheTime\\";a:7:{s:4:\\"name\\";s:9:\\"cacheTime\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_cacheTime\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:600;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdositemap.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\n\\/\\/ Default variables\\nif (empty($tpl)) {\\n    $tpl = \\"@INLINE \\\\n<url>\\\\n\\\\t<loc>[[+url]]<\\/loc>\\\\n\\\\t<lastmod>[[+date]]<\\/lastmod>\\\\n\\\\t<changefreq>[[+update]]<\\/changefreq>\\\\n\\\\t<priority>[[+priority]]<\\/priority>\\\\n<\\/url>\\";\\n}\\nif (empty($tplWrapper)) {\\n    $tplWrapper = \\"@INLINE <?xml version=\\\\\\"1.0\\\\\\" encoding=\\\\\\"[[++modx_charset]]\\\\\\"?>\\\\n<urlset xmlns=\\\\\\"[[+schema]]\\\\\\">\\\\n[[+output]]\\\\n<\\/urlset>\\";\\n}\\nif (empty($sitemapSchema)) {\\n    $sitemapSchema = \'http:\\/\\/www.sitemaps.org\\/schemas\\/sitemap\\/0.9\';\\n}\\nif (empty($outputSeparator)) {\\n    $outputSeparator = \\"\\\\n\\";\\n}\\nif (empty($cacheKey)) {\\n    $scriptProperties[\'cacheKey\'] = \'sitemap\\/\' . substr(md5(json_encode($scriptProperties)), 0, 6);\\n}\\n\\n\\/\\/ Convert parameters from GoogleSiteMap if exists\\nif (!empty($itemTpl)) {\\n    $tpl = $itemTpl;\\n}\\nif (!empty($containerTpl)) {\\n    $tplWrapper = $containerTpl;\\n}\\nif (!empty($allowedtemplates)) {\\n    $scriptProperties[\'templates\'] = $allowedtemplates;\\n}\\nif (!empty($maxDepth)) {\\n    $scriptProperties[\'depth\'] = $maxDepth;\\n}\\nif (isset($hideDeleted)) {\\n    $scriptProperties[\'showDeleted\'] = !$hideDeleted;\\n}\\nif (isset($published)) {\\n    $scriptProperties[\'showUnpublished\'] = !$published;\\n}\\nif (isset($searchable)) {\\n    $scriptProperties[\'showUnsearchable\'] = !$searchable;\\n}\\nif (!empty($googleSchema)) {\\n    $sitemapSchema = $googleSchema;\\n}\\nif (!empty($excludeResources)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeResources));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = \'-\' . $v;\\n        }\\n    }\\n}\\nif (!empty($excludeChildrenOf)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeChildrenOf));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'parents\'])) {\\n            $scriptProperties[\'parents\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'parents\'] = \'-\' . $v;\\n        }\\n    }\\n}\\nif (!empty($startId)) {\\n    if (!empty($scriptProperties[\'parents\'])) {\\n        $scriptProperties[\'parents\'] .= \',\' . $startId;\\n    } else {\\n        $scriptProperties[\'parents\'] = $startId;\\n    }\\n}\\nif (!empty($sortBy)) {\\n    $scriptProperties[\'sortby\'] = $sortBy;\\n}\\nif (!empty($sortDir)) {\\n    $scriptProperties[\'sortdir\'] = $sortDir;\\n}\\nif (!empty($priorityTV)) {\\n    if (!empty($scriptProperties[\'includeTVs\'])) {\\n        $scriptProperties[\'includeTVs\'] .= \',\' . $priorityTV;\\n    } else {\\n        $scriptProperties[\'includeTVs\'] = $priorityTV;\\n    }\\n}\\nif (!empty($itemSeparator)) {\\n    $outputSeparator = $itemSeparator;\\n}\\n\\/\\/---\\n\\n\\n$class = \'modResource\';\\n$where = array();\\nif (empty($showHidden)) {\\n    $where[] = array(\\n        $class . \'.hidemenu\' => 0,\\n        \'OR:\' . $class . \'.class_key:IN\' => array(\'Ticket\', \'Article\'),\\n    );\\n}\\nif (empty($context)) {\\n    $scriptProperties[\'context\'] = $modx->context->key;\\n}\\n\\n$select = array($class => \'id,editedon,createdon,context_key,class_key,uri\');\\nif (!empty($useWeblinkUrl)) {\\n    $select[$class] .= \',content\';\\n}\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \'sortby\' => \\"{$class}.parent ASC, {$class}.menuindex\\",\\n    \'sortdir\' => \'ASC\',\\n    \'return\' => \'data\',\\n    \'scheme\' => \'full\',\\n    \'limit\' => 0,\\n);\\n\\/\\/ Merge all properties and run!\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n\\nif (!empty($cache)) {\\n    $data = $pdoFetch->getCache($scriptProperties);\\n}\\nif (empty($data)) {\\n    $now = time();\\n    $data = $urls = array();\\n    $rows = $pdoFetch->run();\\n    foreach ($rows as $row) {\\n        if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\\n            $row[\'url\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\\n                ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\\n                : $row[\'content\'];\\n        } else {\\n            $row[\'url\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\\n        }\\n\\n        $time = !empty($row[\'editedon\'])\\n            ? $row[\'editedon\']\\n            : $row[\'createdon\'];\\n        $row[\'date\'] = date(\'c\', $time);\\n\\n        $datediff = floor(($now - $time) \\/ 86400);\\n        if ($datediff <= 1) {\\n            $row[\'priority\'] = \'1.0\';\\n            $row[\'update\'] = \'daily\';\\n        } elseif (($datediff > 1) && ($datediff <= 7)) {\\n            $row[\'priority\'] = \'0.75\';\\n            $row[\'update\'] = \'weekly\';\\n        } elseif (($datediff > 7) && ($datediff <= 30)) {\\n            $row[\'priority\'] = \'0.50\';\\n            $row[\'update\'] = \'weekly\';\\n        } else {\\n            $row[\'priority\'] = \'0.25\';\\n            $row[\'update\'] = \'monthly\';\\n        }\\n        if (!empty($priorityTV) && !empty($row[$priorityTV])) {\\n            $row[\'priority\'] = $row[$priorityTV];\\n        }\\n\\n        \\/\\/ Fix possible duplicates made by modWebLink\\n        if (!empty($urls[$row[\'url\']])) {\\n            if ($urls[$row[\'url\']] > $row[\'date\']) {\\n                continue;\\n            }\\n        }\\n        $urls[$row[\'url\']] = $row[\'date\'];\\n\\n        \\/\\/ Add item to output\\n        $data[$row[\'url\']] = $pdoFetch->parseChunk($tpl, $row);\\n        if (strpos($data[$row[\'url\']], \'[[\') !== false) {\\n            $modx->parser->processElementTags(\'\', $data[$row[\'url\']], true, true, \'[[\', \']]\', array(), 10);\\n        }\\n    }\\n    $pdoFetch->addTime(\'Rows processed\');\\n    if (!empty($cache)) {\\n        $pdoFetch->setCache($data, $scriptProperties);\\n    }\\n}\\n\\n$output = implode($outputSeparator, $data);\\n$output = $pdoFetch->getChunk($tplWrapper, array(\\n    \'schema\' => $sitemapSchema,\\n    \'output\' => $output,\\n    \'items\' => $output,\\n));\\n$pdoFetch->addTime(\'Rows wrapped\');\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoSitemapLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($forceXML)) {\\n    header(\\"Content-Type:text\\/xml\\");\\n    @session_write_close();\\n    exit($output);\\n} else {\\n    return $output;\\n}"}',
        'guid' => '81d00c1718a7bb63cf15ec2420bfb160',
        'native_key' => 0,
        'signature' => 'a11fb4967f58d4df7622828c1472adba',
      ),
      'bbe25c363e783cdfabfadb9aeb40e2b7' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoNeighbors","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\nif (empty($id)) {\\n    $id = $modx->resource->id;\\n}\\nif (empty($limit)) {\\n    $limit = 1;\\n}\\nif (!isset($outputSeparator)) {\\n    $outputSeparator = \\"\\\\n\\";\\n}\\n$fastMode = !empty($fastMode);\\n\\n$class = \'modResource\';\\n$resource = ($id == $modx->resource->id)\\n    ? $modx->resource\\n    : $modx->getObject($class, $id);\\nif (!$resource) {\\n    return \'\';\\n}\\n\\n\\/\\/ We need to determine ids of neighbors\\n$params = $scriptProperties;\\n$params[\'select\'] = \'id\';\\n$params[\'limit\'] = 0;\\nif (!empty($parents) && is_string($parents)) {\\n    $parents = array_map(\'trim\', explode(\',\', $parents));\\n    if (!in_array($resource->parent, $parents)) {\\n        $parents[] = $resource->parent;\\n    }\\n    $key = array_search($resource->parent * -1, $parents);\\n    if ($key !== false) {\\n        unset($parents[$key]);\\n    }\\n    $params[\'parents\'] = implode(\',\', $parents);\\n    $ids = $pdoFetch->getCollection(\'modResource\', array(), $params);\\n    unset($scriptProperties[\'parents\']);\\n} else {\\n    $ids = $pdoFetch->getCollection(\'modResource\', array(\'parent\' => $resource->parent), $params);\\n}\\n\\n$found = false;\\n$prev = $next = array();\\nforeach ($ids as $v) {\\n    if ($v[\'id\'] == $id) {\\n        $found = true;\\n        continue;\\n    } elseif (!$found) {\\n        $prev[] = $v[\'id\'];\\n    } else {\\n        $next[] = $v[\'id\'];\\n        if (count($next) >= $limit) {\\n            break;\\n        }\\n    }\\n}\\n$prev = array_splice($prev, $limit * -1);\\nif (!empty($loop)) {\\n    if (!count($prev)) {\\n        $v = end($ids);\\n        $prev[] = $v[\'id\'];\\n    } else {\\n        if (!count($next)) {\\n            $v = reset($ids);\\n            $next[] = $v[\'id\'];\\n        }\\n    }\\n}\\n$ids = array_merge($prev, $next, array($resource->parent));\\n$pdoFetch->addTime(\'Found ids of neighbors: \' . implode(\',\', $ids));\\n\\n\\/\\/ Query conditions\\n$where = array($class . \'.id:IN\' => $ids);\\n\\n\\/\\/ Fields to select\\n$resourceColumns = array_keys($modx->getFieldMeta($class));\\nif (empty($includeContent) && empty($useWeblinkUrl)) {\\n    $key = array_search(\'content\', $resourceColumns);\\n    unset($resourceColumns[$key]);\\n}\\n$select = array($class => implode(\',\', $resourceColumns));\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \\/\\/\'groupby\' => $class.\'.id\',\\n    \'sortby\' => $class . \'.menuindex\',\\n    \'sortdir\' => \'ASC\',\\n    \'return\' => \'data\',\\n    \'limit\' => 0,\\n    \'totalVar\' => \'pdoneighbors.total\',\\n);\\n\\n\\/\\/ Merge all properties and run!\\nunset($scriptProperties[\'limit\']);\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n\\n$rows = $pdoFetch->run();\\n$prev = array_flip($prev);\\n$next = array_flip($next);\\n\\n$output = array(\'prev\' => array(), \'up\' => array(), \'next\' => array());\\nforeach ($rows as $row) {\\n    if (empty($row[\'menutitle\'])) {\\n        $row[\'menutitle\'] = $row[\'pagetitle\'];\\n    }\\n    if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\\n        $row[\'link\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\\n            ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\\n            : $row[\'content\'];\\n    } else {\\n        $row[\'link\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\\n    }\\n\\n    if (isset($prev[$row[\'id\']])) {\\n        $output[\'prev\'][] = !empty($tplPrev)\\n            ? $pdoFetch->getChunk($tplPrev, $row, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $row);\\n    } elseif (isset($next[$row[\'id\']])) {\\n        $output[\'next\'][] = !empty($tplNext)\\n            ? $pdoFetch->getChunk($tplNext, $row, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $row);\\n    } else {\\n        $output[\'up\'][] = !empty($tplUp)\\n            ? $pdoFetch->getChunk($tplUp, $row, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $row);\\n    }\\n}\\n$pdoFetch->addTime(\'Chunks processed\');\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoNeighborsLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nforeach ($output as &$row) {\\n    $row = implode($outputSeparator, $row);\\n}\\n\\nif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    if (!empty($rows) || !empty($wrapIfEmpty)) {\\n        $output = !empty($tplWrapper)\\n            ? $pdoFetch->getChunk($tplWrapper, $output, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $output);\\n    } else {\\n        $output = \'\';\\n    }\\n    $output .= $log;\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}","locked":0,"properties":"a:27:{s:2:\\"id\\";a:7:{s:4:\\"name\\";s:2:\\"id\\";s:4:\\"desc\\";s:16:\\"pdotools_prop_id\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_neighbors_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"menuindex\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_sortdir\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"asc\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"depth\\";a:7:{s:4:\\"name\\";s:5:\\"depth\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_depth\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplPrev\\";a:7:{s:4:\\"name\\";s:7:\\"tplPrev\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplPrev\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:106:\\"@INLINE <span class=\\"link-prev\\"><a href=\\"[[+link]]\\" class=\\"btn btn-light\\">&larr; [[+menutitle]]<\\/a><\\/span>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"tplUp\\";a:7:{s:4:\\"name\\";s:5:\\"tplUp\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_tplUp\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:104:\\"@INLINE <span class=\\"link-up\\"><a href=\\"[[+link]]\\" class=\\"btn btn-light\\">&uarr; [[+menutitle]]<\\/a><\\/span>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplNext\\";a:7:{s:4:\\"name\\";s:7:\\"tplNext\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplNext\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:106:\\"@INLINE <span class=\\"link-next\\"><a href=\\"[[+link]]\\" class=\\"btn btn-light\\">[[+menutitle]] &rarr;<\\/a><\\/span>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:34:\\"pdotools_prop_neighbors_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:93:\\"@INLINE <div class=\\"neighbors d-flex justify-content-between\\">[[+prev]][[+up]][[+next]]<\\/div>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"wrapIfEmpty\\";a:7:{s:4:\\"name\\";s:11:\\"wrapIfEmpty\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_wrapIfEmpty\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showHidden\\";a:7:{s:4:\\"name\\";s:10:\\"showHidden\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showHidden\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"hideContainers\\";a:7:{s:4:\\"name\\";s:14:\\"hideContainers\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_hideContainers\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:22:\\"toSeparatePlaceholders\\";a:7:{s:4:\\"name\\";s:22:\\"toSeparatePlaceholders\\";s:4:\\"desc\\";s:36:\\"pdotools_prop_toSeparatePlaceholders\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"parents\\";a:7:{s:4:\\"name\\";s:7:\\"parents\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_parents\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"\\n\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"fastMode\\";a:7:{s:4:\\"name\\";s:8:\\"fastMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_fastMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"includeTVs\\";a:7:{s:4:\\"name\\";s:10:\\"includeTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_includeTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"prepareTVs\\";a:7:{s:4:\\"name\\";s:10:\\"prepareTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_prepareTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"1\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"processTVs\\";a:7:{s:4:\\"name\\";s:10:\\"processTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_processTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tvPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"tvPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tvPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"tv.\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"scheme\\";a:7:{s:4:\\"name\\";s:6:\\"scheme\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_scheme\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:6:{i:0;a:2:{s:5:\\"value\\";s:0:\\"\\";s:4:\\"text\\";s:14:\\"System default\\";}i:1;a:2:{s:5:\\"value\\";i:-1;s:4:\\"text\\";s:25:\\"-1 (relative to site_url)\\";}i:2;a:2:{s:5:\\"value\\";s:4:\\"full\\";s:4:\\"text\\";s:40:\\"full (absolute, prepended with site_url)\\";}i:3;a:2:{s:5:\\"value\\";s:3:\\"abs\\";s:4:\\"text\\";s:39:\\"abs (absolute, prepended with base_url)\\";}i:4;a:2:{s:5:\\"value\\";s:4:\\"http\\";s:4:\\"text\\";s:38:\\"http (absolute, forced to http scheme)\\";}i:5;a:2:{s:5:\\"value\\";s:5:\\"https\\";s:4:\\"text\\";s:40:\\"https (absolute, forced to https scheme)\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"useWeblinkUrl\\";a:7:{s:4:\\"name\\";s:13:\\"useWeblinkUrl\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_useWeblinkUrl\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"loop\\";a:7:{s:4:\\"name\\";s:4:\\"loop\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_loop\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdoneighbors.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n\\nif (empty($id)) {\\n    $id = $modx->resource->id;\\n}\\nif (empty($limit)) {\\n    $limit = 1;\\n}\\nif (!isset($outputSeparator)) {\\n    $outputSeparator = \\"\\\\n\\";\\n}\\n$fastMode = !empty($fastMode);\\n\\n$class = \'modResource\';\\n$resource = ($id == $modx->resource->id)\\n    ? $modx->resource\\n    : $modx->getObject($class, $id);\\nif (!$resource) {\\n    return \'\';\\n}\\n\\n\\/\\/ We need to determine ids of neighbors\\n$params = $scriptProperties;\\n$params[\'select\'] = \'id\';\\n$params[\'limit\'] = 0;\\nif (!empty($parents) && is_string($parents)) {\\n    $parents = array_map(\'trim\', explode(\',\', $parents));\\n    if (!in_array($resource->parent, $parents)) {\\n        $parents[] = $resource->parent;\\n    }\\n    $key = array_search($resource->parent * -1, $parents);\\n    if ($key !== false) {\\n        unset($parents[$key]);\\n    }\\n    $params[\'parents\'] = implode(\',\', $parents);\\n    $ids = $pdoFetch->getCollection(\'modResource\', array(), $params);\\n    unset($scriptProperties[\'parents\']);\\n} else {\\n    $ids = $pdoFetch->getCollection(\'modResource\', array(\'parent\' => $resource->parent), $params);\\n}\\n\\n$found = false;\\n$prev = $next = array();\\nforeach ($ids as $v) {\\n    if ($v[\'id\'] == $id) {\\n        $found = true;\\n        continue;\\n    } elseif (!$found) {\\n        $prev[] = $v[\'id\'];\\n    } else {\\n        $next[] = $v[\'id\'];\\n        if (count($next) >= $limit) {\\n            break;\\n        }\\n    }\\n}\\n$prev = array_splice($prev, $limit * -1);\\nif (!empty($loop)) {\\n    if (!count($prev)) {\\n        $v = end($ids);\\n        $prev[] = $v[\'id\'];\\n    } else {\\n        if (!count($next)) {\\n            $v = reset($ids);\\n            $next[] = $v[\'id\'];\\n        }\\n    }\\n}\\n$ids = array_merge($prev, $next, array($resource->parent));\\n$pdoFetch->addTime(\'Found ids of neighbors: \' . implode(\',\', $ids));\\n\\n\\/\\/ Query conditions\\n$where = array($class . \'.id:IN\' => $ids);\\n\\n\\/\\/ Fields to select\\n$resourceColumns = array_keys($modx->getFieldMeta($class));\\nif (empty($includeContent) && empty($useWeblinkUrl)) {\\n    $key = array_search(\'content\', $resourceColumns);\\n    unset($resourceColumns[$key]);\\n}\\n$select = array($class => implode(\',\', $resourceColumns));\\n\\n\\/\\/ Add custom parameters\\nforeach (array(\'where\', \'select\') as $v) {\\n    if (!empty($scriptProperties[$v])) {\\n        $tmp = $scriptProperties[$v];\\n        if (!is_array($tmp)) {\\n            $tmp = json_decode($tmp, true);\\n        }\\n        if (is_array($tmp)) {\\n            $$v = array_merge($$v, $tmp);\\n        }\\n    }\\n    unset($scriptProperties[$v]);\\n}\\n$pdoFetch->addTime(\'Conditions prepared\');\\n\\n\\/\\/ Default parameters\\n$default = array(\\n    \'class\' => $class,\\n    \'where\' => json_encode($where),\\n    \'select\' => json_encode($select),\\n    \\/\\/\'groupby\' => $class.\'.id\',\\n    \'sortby\' => $class . \'.menuindex\',\\n    \'sortdir\' => \'ASC\',\\n    \'return\' => \'data\',\\n    \'limit\' => 0,\\n    \'totalVar\' => \'pdoneighbors.total\',\\n);\\n\\n\\/\\/ Merge all properties and run!\\nunset($scriptProperties[\'limit\']);\\n$pdoFetch->addTime(\'Query parameters ready\');\\n$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);\\n\\n$rows = $pdoFetch->run();\\n$prev = array_flip($prev);\\n$next = array_flip($next);\\n\\n$output = array(\'prev\' => array(), \'up\' => array(), \'next\' => array());\\nforeach ($rows as $row) {\\n    if (empty($row[\'menutitle\'])) {\\n        $row[\'menutitle\'] = $row[\'pagetitle\'];\\n    }\\n    if (!empty($useWeblinkUrl) && $row[\'class_key\'] == \'modWebLink\') {\\n        $row[\'link\'] = is_numeric(trim($row[\'content\'], \'[]~ \'))\\n            ? $pdoFetch->makeUrl(intval(trim($row[\'content\'], \'[]~ \')), $row)\\n            : $row[\'content\'];\\n    } else {\\n        $row[\'link\'] = $pdoFetch->makeUrl($row[\'id\'], $row);\\n    }\\n\\n    if (isset($prev[$row[\'id\']])) {\\n        $output[\'prev\'][] = !empty($tplPrev)\\n            ? $pdoFetch->getChunk($tplPrev, $row, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $row);\\n    } elseif (isset($next[$row[\'id\']])) {\\n        $output[\'next\'][] = !empty($tplNext)\\n            ? $pdoFetch->getChunk($tplNext, $row, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $row);\\n    } else {\\n        $output[\'up\'][] = !empty($tplUp)\\n            ? $pdoFetch->getChunk($tplUp, $row, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $row);\\n    }\\n}\\n$pdoFetch->addTime(\'Chunks processed\');\\n\\n$log = \'\';\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $log .= \'<pre class=\\"pdoNeighborsLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nforeach ($output as &$row) {\\n    $row = implode($outputSeparator, $row);\\n}\\n\\nif (!empty($toSeparatePlaceholders)) {\\n    $output[\'log\'] = $log;\\n    $modx->setPlaceholders($output, $toSeparatePlaceholders);\\n} else {\\n    if (!empty($rows) || !empty($wrapIfEmpty)) {\\n        $output = !empty($tplWrapper)\\n            ? $pdoFetch->getChunk($tplWrapper, $output, $fastMode)\\n            : $pdoFetch->getChunk(\'\', $output);\\n    } else {\\n        $output = \'\';\\n    }\\n    $output .= $log;\\n\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $output);\\n    } else {\\n        return $output;\\n    }\\n}"}',
        'guid' => '6e643a14a83f33531fcd409998401c08',
        'native_key' => 0,
        'signature' => '57dd3d95a3c0d8eb6b2394c676acad87',
      ),
      '2aee4039b0d0d0c239fe294f8313ac6b' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoPage","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\/\\/ Default variables\\nif (empty($pageVarKey)) {\\n    $pageVarKey = \'page\';\\n}\\nif (empty($pageNavVar)) {\\n    $pageNavVar = \'page.nav\';\\n}\\nif (empty($pageCountVar)) {\\n    $pageCountVar = \'pageCount\';\\n}\\nif (empty($totalVar)) {\\n    $totalVar = \'total\';\\n}\\nif (empty($page)) {\\n    $page = 1;\\n}\\nif (empty($pageLimit)) {\\n    $pageLimit = 5;\\n} else {\\n    $pageLimit = (integer)$pageLimit;\\n}\\nif (!isset($plPrefix)) {\\n    $plPrefix = \'\';\\n}\\nif (!empty($scriptProperties[\'ajaxMode\'])) {\\n    $scriptProperties[\'ajax\'] = 1;\\n}\\n\\n\\/\\/ Convert parameters from getPage if exists\\nif (!empty($namespace)) {\\n    $plPrefix = $namespace;\\n}\\nif (!empty($pageNavTpl)) {\\n    $scriptProperties[\'tplPage\'] = $pageNavTpl;\\n}\\nif (!empty($pageNavOuterTpl)) {\\n    $scriptProperties[\'tplPageWrapper\'] = $pageNavOuterTpl;\\n}\\nif (!empty($pageActiveTpl)) {\\n    $scriptProperties[\'tplPageActive\'] = $pageActiveTpl;\\n}\\nif (!empty($pageFirstTpl)) {\\n    $scriptProperties[\'tplPageFirst\'] = $pageFirstTpl;\\n}\\nif (!empty($pagePrevTpl)) {\\n    $scriptProperties[\'tplPagePrev\'] = $pagePrevTpl;\\n}\\nif (!empty($pageNextTpl)) {\\n    $scriptProperties[\'tplPageNext\'] = $pageNextTpl;\\n}\\nif (!empty($pageLastTpl)) {\\n    $scriptProperties[\'tplPageLast\'] = $pageLastTpl;\\n}\\nif (!empty($pageSkipTpl)) {\\n    $scriptProperties[\'tplPageSkip\'] = $pageSkipTpl;\\n}\\nif (!empty($pageNavScheme)) {\\n    $scriptProperties[\'scheme\'] = $pageNavScheme;\\n}\\nif (!empty($cache_expires)) {\\n    $scriptProperties[\'cacheTime\'] = $cache_expires;\\n}\\n\\/\\/---\\n$strictMode = !empty($strictMode);\\n\\n$isAjax = !empty($scriptProperties[\'ajax\']) && !empty($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\';\\nif ($isAjax && !isset($_REQUEST[$pageVarKey])) {\\n    return;\\n}\\n\\n\\/** @var pdoPage $pdoPage *\\/\\n$fqn = $modx->getOption(\'pdoPage.class\', null, \'pdotools.pdopage\', true);\\n$path = $modx->getOption(\'pdopage_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoPage = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoPage->pdoTools->addTime(\'pdoTools loaded\');\\n\\n\\/\\/ Script and styles\\nif (!$isAjax && !empty($scriptProperties[\'ajaxMode\'])) {\\n    $pdoPage->loadJsCss();\\n}\\n\\/\\/ Removing of default scripts and styles so they do not overwrote nested snippet parameters\\nif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoPage\'))) {\\n    $properties = $snippet->get(\'properties\');\\n    if ($scriptProperties[\'frontend_js\'] == $properties[\'frontend_js\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_js\']);\\n    }\\n    if ($scriptProperties[\'frontend_css\'] == $properties[\'frontend_css\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_css\']);\\n    }\\n}\\n\\n\\/\\/ Page\\nif (isset($_REQUEST[$pageVarKey]) && $strictMode && (!is_numeric($_REQUEST[$pageVarKey]) || ($_REQUEST[$pageVarKey] <= 1 && !$isAjax))) {\\n    return $pdoPage->redirectToFirst($isAjax);\\n} elseif (!empty($_REQUEST[$pageVarKey])) {\\n    $page = (integer)$_REQUEST[$pageVarKey];\\n}\\n$scriptProperties[\'page\'] = $page;\\n$scriptProperties[\'request\'] = $_REQUEST;\\n$scriptProperties[\'setTotal\'] = true;\\n\\n\\/\\/ Limit\\nif (isset($_REQUEST[\'limit\'])) {\\n    if (is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {\\n        $scriptProperties[\'limit\'] = abs($_REQUEST[\'limit\']);\\n    } elseif ($strictMode) {\\n        unset($_GET[\'limit\']);\\n\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n}\\nif (!empty($maxLimit) && !empty($scriptProperties[\'limit\']) && $scriptProperties[\'limit\'] > $maxLimit) {\\n    $scriptProperties[\'limit\'] = $maxLimit;\\n}\\n\\n\\/\\/ Offset\\n$offset = !empty($scriptProperties[\'offset\']) && $scriptProperties[\'offset\'] > 0\\n    ? (int)$scriptProperties[\'offset\']\\n    : 0;\\n$scriptProperties[\'offset\'] = $page > 1\\n    ? $scriptProperties[\'limit\'] * ($page - 1) + $offset\\n    : $offset;\\nif (!empty($scriptProperties[\'offset\']) && empty($scriptProperties[\'limit\'])) {\\n    $scriptProperties[\'limit\'] = 10000000;\\n}\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\n$url = $pdoPage->getBaseUrl();\\n$output = $pagination = $total = $pageCount = \'\';\\n\\n$data = $cache\\n    ? $pdoPage->pdoTools->getCache($scriptProperties)\\n    : array();\\n\\nif (empty($data)) {\\n    $output = $pdoPage->pdoTools->runSnippet($scriptProperties[\'element\'], $scriptProperties);\\n    if ($output === false) {\\n        return \'\';\\n    } elseif (!empty($toPlaceholder)) {\\n        $output = $modx->getPlaceholder($toPlaceholder);\\n    }\\n\\n    \\/\\/ Pagination\\n    $total = (int)$modx->getPlaceholder($totalVar);\\n    $pageCount = !empty($scriptProperties[\'limit\']) && $total > $offset\\n        ? ceil(($total - $offset) \\/ $scriptProperties[\'limit\'])\\n        : 0;\\n\\n    \\/\\/ Redirect to start if somebody specified incorrect page\\n    if ($page > 1 && $page > $pageCount && $strictMode) {\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n    if (!empty($pageCount) && $pageCount > 1) {\\n        $pagination = array(\\n            \'first\' => $page > 1 && !empty($tplPageFirst)\\n                ? $pdoPage->makePageLink($url, 1, $tplPageFirst)\\n                : \'\',\\n            \'prev\' => $page > 1 && !empty($tplPagePrev)\\n                ? $pdoPage->makePageLink($url, $page - 1, $tplPagePrev)\\n                : \'\',\\n            \'pages\' => $pageLimit >= 7 && empty($disableModernPagination)\\n                ? $pdoPage->buildModernPagination($page, $pageCount, $url)\\n                : $pdoPage->buildClassicPagination($page, $pageCount, $url),\\n            \'next\' => $page < $pageCount && !empty($tplPageNext)\\n                ? $pdoPage->makePageLink($url, $page + 1, $tplPageNext)\\n                : \'\',\\n            \'last\' => $page < $pageCount && !empty($tplPageLast)\\n                ? $pdoPage->makePageLink($url, $pageCount, $tplPageLast)\\n                : \'\',\\n        );\\n\\n        if (!empty($pageCount)) {\\n            foreach (array(\'first\', \'prev\', \'next\', \'last\') as $v) {\\n                $tpl = \'tplPage\' . ucfirst($v) . \'Empty\';\\n                if (!empty(${$tpl}) && empty($pagination[$v])) {\\n                    $pagination[$v] = $pdoPage->pdoTools->getChunk(${$tpl});\\n                }\\n            }\\n        }\\n    } else {\\n        $pagination = array(\\n            \'first\' => \'\',\\n            \'prev\' => \'\',\\n            \'pages\' => \'\',\\n            \'next\' => \'\',\\n            \'last\' => \'\'\\n        );\\n    }\\n\\n    $data = array(\\n        \'output\' => $output,\\n        $pageVarKey => $page,\\n        $pageCountVar => $pageCount,\\n        $pageNavVar => !empty($tplPageWrapper)\\n            ? $pdoPage->pdoTools->getChunk($tplPageWrapper, $pagination)\\n            : $pdoPage->pdoTools->parseChunk(\'\', $pagination),\\n        $totalVar => $total,\\n    );\\n    if ($cache) {\\n        $pdoPage->pdoTools->setCache($data, $scriptProperties);\\n    }\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $data[\'output\'] .= \'<pre class=\\"pdoPageLog\\">\' . print_r($pdoPage->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif ($isAjax) {\\n    if ($pageNavVar != \'pagination\') {\\n        $data[\'pagination\'] = $data[$pageNavVar];\\n        unset($data[$pageNavVar]);\\n    }\\n    if ($pageCountVar != \'pages\') {\\n        $data[\'pages\'] = (int)$data[$pageCountVar];\\n        unset($data[$pageCountVar]);\\n    }\\n    if ($pageVarKey != \'page\') {\\n        $data[\'page\'] = (int)$data[$pageVarKey];\\n        unset($data[$pageVarKey]);\\n    }\\n    if ($totalVar != \'total\') {\\n        $data[\'total\'] = (int)$data[$totalVar];\\n        unset($data[$totalVar]);\\n    }\\n\\n    $maxIterations = (integer)$modx->getOption(\'parser_max_iterations\', null, 10);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], false, false, \'[[\', \']]\', array(), $maxIterations);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], true, true, \'[[\', \']]\', array(), $maxIterations);\\n\\n    @session_write_close();\\n    exit(json_encode($data));\\n} else {\\n    if (!empty($setMeta)) {\\n        $canurl = $pdoPage->pdoTools->config[\'scheme\'] !== \'full\'\\n            ? $modx->getOption(\'url_scheme\') . rtrim($modx->getOption(\'http_host\'), \'\\/\') . \'\\/\' . ltrim($url, \'\\/\')\\n            : $url;\\n        $modx->regClientStartupHTMLBlock(\'<link rel=\\"canonical\\" href=\\"\' . $canurl . \'\\"\\/>\');\\n        if ($data[$pageVarKey] > 1) {\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"prev\\" href=\\"\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] - 1) . \'\\"\\/>\'\\n            );\\n        }\\n        if ($data[$pageVarKey] < $data[$pageCountVar]) {\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"next\\" href=\\"\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] + 1) . \'\\"\\/>\'\\n            );\\n        }\\n    }\\n\\n    $modx->setPlaceholders($data, $plPrefix);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $data[\'output\']);\\n    } else {\\n        return $data[\'output\'];\\n    }\\n}","locked":0,"properties":"a:41:{s:8:\\"plPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"plPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_plPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"maxLimit\\";a:7:{s:4:\\"name\\";s:8:\\"maxLimit\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_maxLimit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:100;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"offset\\";a:7:{s:4:\\"name\\";s:6:\\"offset\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_offset\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"page\\";a:7:{s:4:\\"name\\";s:4:\\"page\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_page\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"pageVarKey\\";a:7:{s:4:\\"name\\";s:10:\\"pageVarKey\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_pageVarKey\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:4:\\"page\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"totalVar\\";a:7:{s:4:\\"name\\";s:8:\\"totalVar\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_totalVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:10:\\"page.total\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"pageLimit\\";a:7:{s:4:\\"name\\";s:9:\\"pageLimit\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_pageLimit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:5;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"element\\";a:7:{s:4:\\"name\\";s:7:\\"element\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_element\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:12:\\"pdoResources\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"pageNavVar\\";a:7:{s:4:\\"name\\";s:10:\\"pageNavVar\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_pageNavVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:8:\\"page.nav\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"pageCountVar\\";a:7:{s:4:\\"name\\";s:12:\\"pageCountVar\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_pageCountVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"pageCount\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"pageLinkScheme\\";a:7:{s:4:\\"name\\";s:14:\\"pageLinkScheme\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_pageLinkScheme\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplPage\\";a:7:{s:4:\\"name\\";s:7:\\"tplPage\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplPage\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:88:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[+pageNo]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"tplPageWrapper\\";a:7:{s:4:\\"name\\";s:14:\\"tplPageWrapper\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_tplPageWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:83:\\"@INLINE <ul class=\\"pagination\\">[[+first]][[+prev]][[+pages]][[+next]][[+last]]<\\/ul>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"tplPageActive\\";a:7:{s:4:\\"name\\";s:13:\\"tplPageActive\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_tplPageActive\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li class=\\"page-item active\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[+pageNo]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplPageFirst\\";a:7:{s:4:\\"name\\";s:12:\\"tplPageFirst\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplPageFirst\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[%pdopage_first]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPageLast\\";a:7:{s:4:\\"name\\";s:11:\\"tplPageLast\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPageLast\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:94:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">[[%pdopage_last]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPagePrev\\";a:7:{s:4:\\"name\\";s:11:\\"tplPagePrev\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPagePrev\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:84:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">&laquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPageNext\\";a:7:{s:4:\\"name\\";s:11:\\"tplPageNext\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPageNext\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:84:\\"@INLINE <li class=\\"page-item\\"><a class=\\"page-link\\" href=\\"[[+href]]\\">&raquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplPageSkip\\";a:7:{s:4:\\"name\\";s:11:\\"tplPageSkip\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplPageSkip\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:81:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">...<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:17:\\"tplPageFirstEmpty\\";a:7:{s:4:\\"name\\";s:17:\\"tplPageFirstEmpty\\";s:4:\\"desc\\";s:31:\\"pdotools_prop_tplPageFirstEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:96:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">[[%pdopage_first]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplPageLastEmpty\\";a:7:{s:4:\\"name\\";s:16:\\"tplPageLastEmpty\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplPageLastEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">[[%pdopage_last]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplPagePrevEmpty\\";a:7:{s:4:\\"name\\";s:16:\\"tplPagePrevEmpty\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplPagePrevEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:85:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">&laquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplPageNextEmpty\\";a:7:{s:4:\\"name\\";s:16:\\"tplPageNextEmpty\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplPageNextEmpty\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:85:\\"@INLINE <li class=\\"page-item disabled\\"><a class=\\"page-link\\" href=\\"#\\">&raquo;<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"cache\\";a:7:{s:4:\\"name\\";s:5:\\"cache\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_cache\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"cacheTime\\";a:7:{s:4:\\"name\\";s:9:\\"cacheTime\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_cacheTime\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:3600;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"cacheAnonymous\\";a:7:{s:4:\\"name\\";s:14:\\"cacheAnonymous\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_cacheAnonymous\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:4:\\"ajax\\";a:7:{s:4:\\"name\\";s:4:\\"ajax\\";s:4:\\"desc\\";s:18:\\"pdotools_prop_ajax\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"ajaxMode\\";a:7:{s:4:\\"name\\";s:8:\\"ajaxMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_ajaxMode\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:4:{i:0;a:2:{s:4:\\"text\\";s:4:\\"None\\";s:5:\\"value\\";s:0:\\"\\";}i:1;a:2:{s:4:\\"text\\";s:7:\\"Default\\";s:5:\\"value\\";s:7:\\"default\\";}i:2;a:2:{s:4:\\"text\\";s:6:\\"Scroll\\";s:5:\\"value\\";s:6:\\"scroll\\";}i:3;a:2:{s:4:\\"text\\";s:6:\\"Button\\";s:5:\\"value\\";s:6:\\"button\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"ajaxElemWrapper\\";a:7:{s:4:\\"name\\";s:15:\\"ajaxElemWrapper\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_ajaxElemWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:8:\\"#pdopage\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"ajaxElemRows\\";a:7:{s:4:\\"name\\";s:12:\\"ajaxElemRows\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_ajaxElemRows\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:14:\\"#pdopage .rows\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"ajaxElemPagination\\";a:7:{s:4:\\"name\\";s:18:\\"ajaxElemPagination\\";s:4:\\"desc\\";s:32:\\"pdotools_prop_ajaxElemPagination\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:20:\\"#pdopage .pagination\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"ajaxElemLink\\";a:7:{s:4:\\"name\\";s:12:\\"ajaxElemLink\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_ajaxElemLink\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:22:\\"#pdopage .pagination a\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"ajaxElemMore\\";a:7:{s:4:\\"name\\";s:12:\\"ajaxElemMore\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_ajaxElemMore\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:18:\\"#pdopage .btn-more\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"ajaxTplMore\\";a:7:{s:4:\\"name\\";s:11:\\"ajaxTplMore\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_ajaxTplMore\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:75:\\"@INLINE <button class=\\"btn btn-primary btn-more\\">[[%pdopage_more]]<\\/button>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"ajaxHistory\\";a:7:{s:4:\\"name\\";s:11:\\"ajaxHistory\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_ajaxHistory\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:3:{i:0;a:2:{s:4:\\"text\\";s:4:\\"Auto\\";s:5:\\"value\\";s:0:\\"\\";}i:1;a:2:{s:4:\\"text\\";s:7:\\"Enabled\\";s:5:\\"value\\";i:1;}i:2;a:2:{s:4:\\"text\\";s:8:\\"Disabled\\";s:5:\\"value\\";i:0;}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"frontend_js\\";a:7:{s:4:\\"name\\";s:11:\\"frontend_js\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_frontend_js\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:31:\\"[[+assetsUrl]]js\\/pdopage.min.js\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"frontend_css\\";a:7:{s:4:\\"name\\";s:12:\\"frontend_css\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_frontend_css\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:33:\\"[[+assetsUrl]]css\\/pdopage.min.css\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"setMeta\\";a:7:{s:4:\\"name\\";s:7:\\"setMeta\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_setMeta\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"strictMode\\";a:7:{s:4:\\"name\\";s:10:\\"strictMode\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_strictMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdopage.php","content":"\\/** @var array $scriptProperties *\\/\\n\\/\\/ Default variables\\nif (empty($pageVarKey)) {\\n    $pageVarKey = \'page\';\\n}\\nif (empty($pageNavVar)) {\\n    $pageNavVar = \'page.nav\';\\n}\\nif (empty($pageCountVar)) {\\n    $pageCountVar = \'pageCount\';\\n}\\nif (empty($totalVar)) {\\n    $totalVar = \'total\';\\n}\\nif (empty($page)) {\\n    $page = 1;\\n}\\nif (empty($pageLimit)) {\\n    $pageLimit = 5;\\n} else {\\n    $pageLimit = (integer)$pageLimit;\\n}\\nif (!isset($plPrefix)) {\\n    $plPrefix = \'\';\\n}\\nif (!empty($scriptProperties[\'ajaxMode\'])) {\\n    $scriptProperties[\'ajax\'] = 1;\\n}\\n\\n\\/\\/ Convert parameters from getPage if exists\\nif (!empty($namespace)) {\\n    $plPrefix = $namespace;\\n}\\nif (!empty($pageNavTpl)) {\\n    $scriptProperties[\'tplPage\'] = $pageNavTpl;\\n}\\nif (!empty($pageNavOuterTpl)) {\\n    $scriptProperties[\'tplPageWrapper\'] = $pageNavOuterTpl;\\n}\\nif (!empty($pageActiveTpl)) {\\n    $scriptProperties[\'tplPageActive\'] = $pageActiveTpl;\\n}\\nif (!empty($pageFirstTpl)) {\\n    $scriptProperties[\'tplPageFirst\'] = $pageFirstTpl;\\n}\\nif (!empty($pagePrevTpl)) {\\n    $scriptProperties[\'tplPagePrev\'] = $pagePrevTpl;\\n}\\nif (!empty($pageNextTpl)) {\\n    $scriptProperties[\'tplPageNext\'] = $pageNextTpl;\\n}\\nif (!empty($pageLastTpl)) {\\n    $scriptProperties[\'tplPageLast\'] = $pageLastTpl;\\n}\\nif (!empty($pageSkipTpl)) {\\n    $scriptProperties[\'tplPageSkip\'] = $pageSkipTpl;\\n}\\nif (!empty($pageNavScheme)) {\\n    $scriptProperties[\'scheme\'] = $pageNavScheme;\\n}\\nif (!empty($cache_expires)) {\\n    $scriptProperties[\'cacheTime\'] = $cache_expires;\\n}\\n\\/\\/---\\n$strictMode = !empty($strictMode);\\n\\n$isAjax = !empty($scriptProperties[\'ajax\']) && !empty($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\';\\nif ($isAjax && !isset($_REQUEST[$pageVarKey])) {\\n    return;\\n}\\n\\n\\/** @var pdoPage $pdoPage *\\/\\n$fqn = $modx->getOption(\'pdoPage.class\', null, \'pdotools.pdopage\', true);\\n$path = $modx->getOption(\'pdopage_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoPage = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoPage->pdoTools->addTime(\'pdoTools loaded\');\\n\\n\\/\\/ Script and styles\\nif (!$isAjax && !empty($scriptProperties[\'ajaxMode\'])) {\\n    $pdoPage->loadJsCss();\\n}\\n\\/\\/ Removing of default scripts and styles so they do not overwrote nested snippet parameters\\nif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoPage\'))) {\\n    $properties = $snippet->get(\'properties\');\\n    if ($scriptProperties[\'frontend_js\'] == $properties[\'frontend_js\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_js\']);\\n    }\\n    if ($scriptProperties[\'frontend_css\'] == $properties[\'frontend_css\'][\'value\']) {\\n        unset($scriptProperties[\'frontend_css\']);\\n    }\\n}\\n\\n\\/\\/ Page\\nif (isset($_REQUEST[$pageVarKey]) && $strictMode && (!is_numeric($_REQUEST[$pageVarKey]) || ($_REQUEST[$pageVarKey] <= 1 && !$isAjax))) {\\n    return $pdoPage->redirectToFirst($isAjax);\\n} elseif (!empty($_REQUEST[$pageVarKey])) {\\n    $page = (integer)$_REQUEST[$pageVarKey];\\n}\\n$scriptProperties[\'page\'] = $page;\\n$scriptProperties[\'request\'] = $_REQUEST;\\n$scriptProperties[\'setTotal\'] = true;\\n\\n\\/\\/ Limit\\nif (isset($_REQUEST[\'limit\'])) {\\n    if (is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {\\n        $scriptProperties[\'limit\'] = abs($_REQUEST[\'limit\']);\\n    } elseif ($strictMode) {\\n        unset($_GET[\'limit\']);\\n\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n}\\nif (!empty($maxLimit) && !empty($scriptProperties[\'limit\']) && $scriptProperties[\'limit\'] > $maxLimit) {\\n    $scriptProperties[\'limit\'] = $maxLimit;\\n}\\n\\n\\/\\/ Offset\\n$offset = !empty($scriptProperties[\'offset\']) && $scriptProperties[\'offset\'] > 0\\n    ? (int)$scriptProperties[\'offset\']\\n    : 0;\\n$scriptProperties[\'offset\'] = $page > 1\\n    ? $scriptProperties[\'limit\'] * ($page - 1) + $offset\\n    : $offset;\\nif (!empty($scriptProperties[\'offset\']) && empty($scriptProperties[\'limit\'])) {\\n    $scriptProperties[\'limit\'] = 10000000;\\n}\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\n$url = $pdoPage->getBaseUrl();\\n$output = $pagination = $total = $pageCount = \'\';\\n\\n$data = $cache\\n    ? $pdoPage->pdoTools->getCache($scriptProperties)\\n    : array();\\n\\nif (empty($data)) {\\n    $output = $pdoPage->pdoTools->runSnippet($scriptProperties[\'element\'], $scriptProperties);\\n    if ($output === false) {\\n        return \'\';\\n    } elseif (!empty($toPlaceholder)) {\\n        $output = $modx->getPlaceholder($toPlaceholder);\\n    }\\n\\n    \\/\\/ Pagination\\n    $total = (int)$modx->getPlaceholder($totalVar);\\n    $pageCount = !empty($scriptProperties[\'limit\']) && $total > $offset\\n        ? ceil(($total - $offset) \\/ $scriptProperties[\'limit\'])\\n        : 0;\\n\\n    \\/\\/ Redirect to start if somebody specified incorrect page\\n    if ($page > 1 && $page > $pageCount && $strictMode) {\\n        return $pdoPage->redirectToFirst($isAjax);\\n    }\\n    if (!empty($pageCount) && $pageCount > 1) {\\n        $pagination = array(\\n            \'first\' => $page > 1 && !empty($tplPageFirst)\\n                ? $pdoPage->makePageLink($url, 1, $tplPageFirst)\\n                : \'\',\\n            \'prev\' => $page > 1 && !empty($tplPagePrev)\\n                ? $pdoPage->makePageLink($url, $page - 1, $tplPagePrev)\\n                : \'\',\\n            \'pages\' => $pageLimit >= 7 && empty($disableModernPagination)\\n                ? $pdoPage->buildModernPagination($page, $pageCount, $url)\\n                : $pdoPage->buildClassicPagination($page, $pageCount, $url),\\n            \'next\' => $page < $pageCount && !empty($tplPageNext)\\n                ? $pdoPage->makePageLink($url, $page + 1, $tplPageNext)\\n                : \'\',\\n            \'last\' => $page < $pageCount && !empty($tplPageLast)\\n                ? $pdoPage->makePageLink($url, $pageCount, $tplPageLast)\\n                : \'\',\\n        );\\n\\n        if (!empty($pageCount)) {\\n            foreach (array(\'first\', \'prev\', \'next\', \'last\') as $v) {\\n                $tpl = \'tplPage\' . ucfirst($v) . \'Empty\';\\n                if (!empty(${$tpl}) && empty($pagination[$v])) {\\n                    $pagination[$v] = $pdoPage->pdoTools->getChunk(${$tpl});\\n                }\\n            }\\n        }\\n    } else {\\n        $pagination = array(\\n            \'first\' => \'\',\\n            \'prev\' => \'\',\\n            \'pages\' => \'\',\\n            \'next\' => \'\',\\n            \'last\' => \'\'\\n        );\\n    }\\n\\n    $data = array(\\n        \'output\' => $output,\\n        $pageVarKey => $page,\\n        $pageCountVar => $pageCount,\\n        $pageNavVar => !empty($tplPageWrapper)\\n            ? $pdoPage->pdoTools->getChunk($tplPageWrapper, $pagination)\\n            : $pdoPage->pdoTools->parseChunk(\'\', $pagination),\\n        $totalVar => $total,\\n    );\\n    if ($cache) {\\n        $pdoPage->pdoTools->setCache($data, $scriptProperties);\\n    }\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $data[\'output\'] .= \'<pre class=\\"pdoPageLog\\">\' . print_r($pdoPage->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif ($isAjax) {\\n    if ($pageNavVar != \'pagination\') {\\n        $data[\'pagination\'] = $data[$pageNavVar];\\n        unset($data[$pageNavVar]);\\n    }\\n    if ($pageCountVar != \'pages\') {\\n        $data[\'pages\'] = (int)$data[$pageCountVar];\\n        unset($data[$pageCountVar]);\\n    }\\n    if ($pageVarKey != \'page\') {\\n        $data[\'page\'] = (int)$data[$pageVarKey];\\n        unset($data[$pageVarKey]);\\n    }\\n    if ($totalVar != \'total\') {\\n        $data[\'total\'] = (int)$data[$totalVar];\\n        unset($data[$totalVar]);\\n    }\\n\\n    $maxIterations = (integer)$modx->getOption(\'parser_max_iterations\', null, 10);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], false, false, \'[[\', \']]\', array(), $maxIterations);\\n    $modx->getParser()->processElementTags(\'\', $data[\'output\'], true, true, \'[[\', \']]\', array(), $maxIterations);\\n\\n    @session_write_close();\\n    exit(json_encode($data));\\n} else {\\n    if (!empty($setMeta)) {\\n        $canurl = $pdoPage->pdoTools->config[\'scheme\'] !== \'full\'\\n            ? $modx->getOption(\'url_scheme\') . rtrim($modx->getOption(\'http_host\'), \'\\/\') . \'\\/\' . ltrim($url, \'\\/\')\\n            : $url;\\n        $modx->regClientStartupHTMLBlock(\'<link rel=\\"canonical\\" href=\\"\' . $canurl . \'\\"\\/>\');\\n        if ($data[$pageVarKey] > 1) {\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"prev\\" href=\\"\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] - 1) . \'\\"\\/>\'\\n            );\\n        }\\n        if ($data[$pageVarKey] < $data[$pageCountVar]) {\\n            $modx->regClientStartupHTMLBlock(\\n                \'<link rel=\\"next\\" href=\\"\' . $pdoPage->makePageLink($canurl, $data[$pageVarKey] + 1) . \'\\"\\/>\'\\n            );\\n        }\\n    }\\n\\n    $modx->setPlaceholders($data, $plPrefix);\\n    if (!empty($toPlaceholder)) {\\n        $modx->setPlaceholder($toPlaceholder, $data[\'output\']);\\n    } else {\\n        return $data[\'output\'];\\n    }\\n}"}',
        'guid' => '65f36be272794088a1e68f1890938f2c',
        'native_key' => 0,
        'signature' => 'fdc6f2c60a243b12adb2a99c51ada8d3',
      ),
      'e67d93fc24674c5151ecb0eb280b5d78' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoMenu","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\n\\n\\/\\/ Convert parameters from Wayfinder if exists\\nif (isset($startId)) {\\n    $scriptProperties[\'parents\'] = $startId;\\n}\\nif (!empty($includeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $includeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = $v;\\n        }\\n    }\\n}\\nif (!empty($excludeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = \'-\' . $v;\\n        }\\n    }\\n}\\n\\nif (!empty($previewUnpublished) && $modx->hasPermission(\'view_unpublished\')) {\\n    $scriptProperties[\'showUnpublished\'] = 1;\\n}\\n\\n$scriptProperties[\'depth\'] = empty($level) ? 100 : abs($level) - 1;\\nif (!empty($contexts)) {\\n    $scriptProperties[\'context\'] = $contexts;\\n}\\nif (empty($scriptProperties[\'context\'])) {\\n    $scriptProperties[\'context\'] = $modx->resource->context_key;\\n}\\n\\n\\/\\/ Save original parents specified by user\\n$specified_parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n\\nif ($scriptProperties[\'parents\'] === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n} elseif ($scriptProperties[\'parents\'] === 0 || $scriptProperties[\'parents\'] === \'0\') {\\n    if ($scriptProperties[\'depth\'] !== \'\' && $scriptProperties[\'depth\'] !== 100) {\\n        $contexts = array_map(\'trim\', explode(\',\', $scriptProperties[\'context\']));\\n        $parents = array();\\n        if (!empty($scriptProperties[\'showDeleted\'])) {\\n            $pdoFetch = $modx->getService(\'pdoFetch\');\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $pdoFetch->getChildIds(\'modResource\', 0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        } else {\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $modx->getChildIds(0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        }\\n        $scriptProperties[\'parents\'] = !empty($parents) ? implode(\',\', $parents) : \'+0\';\\n        $scriptProperties[\'depth\'] = 0;\\n    }\\n    $scriptProperties[\'includeParents\'] = 1;\\n    $scriptProperties[\'displayStart\'] = 0;\\n} else {\\n    $parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n    $parents_in = $parents_out = array();\\n    foreach ($parents as $v) {\\n        if (!is_numeric($v)) {\\n            continue;\\n        }\\n        if ($v[0] == \'-\') {\\n            $parents_out[] = abs($v);\\n        } else {\\n            $parents_in[] = abs($v);\\n        }\\n    }\\n\\n    if (empty($parents_in)) {\\n        $scriptProperties[\'includeParents\'] = 1;\\n        $scriptProperties[\'displayStart\'] = 0;\\n    }\\n}\\n\\nif (!empty($displayStart)) {\\n    $scriptProperties[\'includeParents\'] = 1;\\n}\\nif (!empty($ph)) {\\n    $toPlaceholder = $ph;\\n}\\nif (!empty($sortOrder)) {\\n    $scriptProperties[\'sortdir\'] = $sortOrder;\\n}\\nif (!empty($sortBy)) {\\n    $scriptProperties[\'sortby\'] = $sortBy;\\n}\\nif (!empty($permissions)) {\\n    $scriptProperties[\'checkPermissions\'] = $permissions;\\n}\\nif (!empty($cacheResults)) {\\n    $scriptProperties[\'cache\'] = $cacheResults;\\n}\\nif (!empty($ignoreHidden)) {\\n    $scriptProperties[\'showHidden\'] = $ignoreHidden;\\n}\\n\\n$wfTemplates = array(\\n    \'outerTpl\' => \'tplOuter\',\\n    \'rowTpl\' => \'tpl\',\\n    \'parentRowTpl\' => \'tplParentRow\',\\n    \'parentRowHereTpl\' => \'tplParentRowHere\',\\n    \'hereTpl\' => \'tplHere\',\\n    \'innerTpl\' => \'tplInner\',\\n    \'innerRowTpl\' => \'tplInnerRow\',\\n    \'innerHereTpl\' => \'tplInnerHere\',\\n    \'activeParentRowTpl\' => \'tplParentRowActive\',\\n    \'categoryFoldersTpl\' => \'tplCategoryFolder\',\\n    \'startItemTpl\' => \'tplStart\',\\n);\\nforeach ($wfTemplates as $k => $v) {\\n    if (isset(${$k})) {\\n        $scriptProperties[$v] = ${$k};\\n    }\\n}\\n\\/\\/---\\n\\n\\/** @var pdoMenu $pdoMenu *\\/\\n$fqn = $modx->getOption(\'pdoMenu.class\', null, \'pdotools.pdomenu\', true);\\n$path = $modx->getOption(\'pdomenu_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoMenu = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoMenu->pdoTools->addTime(\'pdoTools loaded\');\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\nif (empty($scriptProperties[\'cache_key\'])) {\\n    $scriptProperties[\'cache_key\'] = \'pdomenu\\/\' . sha1(serialize($scriptProperties));\\n}\\n\\n$output = \'\';\\n$tree = array();\\nif ($cache) {\\n    $tree = $pdoMenu->pdoTools->getCache($scriptProperties);\\n}\\nif (empty($tree)) {\\n    $data = $pdoMenu->pdoTools->run();\\n    $data = $pdoMenu->pdoTools->buildTree($data, \'id\', \'parent\', $specified_parents);\\n    $tree = array();\\n    foreach ($data as $k => $v) {\\n        if (empty($v[\'id\'])) {\\n            if (!in_array($k, $specified_parents) && !$pdoMenu->checkResource($k)) {\\n                continue;\\n            } else {\\n                $tree = array_merge($tree, $v[\'children\']);\\n            }\\n        } else {\\n            $tree[$k] = $v;\\n        }\\n    }\\n    if ($cache) {\\n        $pdoMenu->pdoTools->setCache($tree, $scriptProperties);\\n    }\\n}\\nif (!empty($tree)) {\\n    $output = $pdoMenu->templateTree($tree);\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoMenuLog\\">\' . print_r($pdoMenu->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}","locked":0,"properties":"a:51:{s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"fastMode\\";a:7:{s:4:\\"name\\";s:8:\\"fastMode\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_fastMode\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"level\\";a:7:{s:4:\\"name\\";s:5:\\"level\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_level\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"parents\\";a:7:{s:4:\\"name\\";s:7:\\"parents\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_parents\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"displayStart\\";a:7:{s:4:\\"name\\";s:12:\\"displayStart\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_displayStart\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"resources\\";a:7:{s:4:\\"name\\";s:9:\\"resources\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_resources\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"templates\\";a:7:{s:4:\\"name\\";s:9:\\"templates\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_templates\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"context\\";a:7:{s:4:\\"name\\";s:7:\\"context\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_context\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"cache\\";a:7:{s:4:\\"name\\";s:5:\\"cache\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_cache\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"cacheTime\\";a:7:{s:4:\\"name\\";s:9:\\"cacheTime\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_cacheTime\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:3600;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"cacheAnonymous\\";a:7:{s:4:\\"name\\";s:14:\\"cacheAnonymous\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_cacheAnonymous\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"plPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"plPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_plPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"wf.\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showHidden\\";a:7:{s:4:\\"name\\";s:10:\\"showHidden\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showHidden\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"previewUnpublished\\";a:7:{s:4:\\"name\\";s:18:\\"previewUnpublished\\";s:4:\\"desc\\";s:32:\\"pdotools_prop_previewUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"hideSubMenus\\";a:7:{s:4:\\"name\\";s:12:\\"hideSubMenus\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_hideSubMenus\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"useWeblinkUrl\\";a:7:{s:4:\\"name\\";s:13:\\"useWeblinkUrl\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_useWeblinkUrl\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_sortdir\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:3:\\"ASC\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"menuindex\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"offset\\";a:7:{s:4:\\"name\\";s:6:\\"offset\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_offset\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"rowIdPrefix\\";a:7:{s:4:\\"name\\";s:11:\\"rowIdPrefix\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_rowIdPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"firstClass\\";a:7:{s:4:\\"name\\";s:10:\\"firstClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_firstClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"first\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"lastClass\\";a:7:{s:4:\\"name\\";s:9:\\"lastClass\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_lastClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:4:\\"last\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"hereClass\\";a:7:{s:4:\\"name\\";s:9:\\"hereClass\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_hereClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:6:\\"active\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"parentClass\\";a:7:{s:4:\\"name\\";s:11:\\"parentClass\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_parentClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"rowClass\\";a:7:{s:4:\\"name\\";s:8:\\"rowClass\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_rowClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"outerClass\\";a:7:{s:4:\\"name\\";s:10:\\"outerClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_outerClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"innerClass\\";a:7:{s:4:\\"name\\";s:10:\\"innerClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_innerClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"levelClass\\";a:7:{s:4:\\"name\\";s:10:\\"levelClass\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_levelClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"selfClass\\";a:7:{s:4:\\"name\\";s:9:\\"selfClass\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_selfClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"webLinkClass\\";a:7:{s:4:\\"name\\";s:12:\\"webLinkClass\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_webLinkClass\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplOuter\\";a:7:{s:4:\\"name\\";s:8:\\"tplOuter\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplOuter\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:41:\\"@INLINE <ul[[+classes]]>[[+wrapper]]<\\/ul>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:95:\\"@INLINE <li[[+classes]]><a href=\\"[[+link]]\\" [[+attributes]]>[[+menutitle]]<\\/a>[[+wrapper]]<\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplParentRow\\";a:7:{s:4:\\"name\\";s:12:\\"tplParentRow\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplParentRow\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"tplParentRowHere\\";a:7:{s:4:\\"name\\";s:16:\\"tplParentRowHere\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_tplParentRowHere\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplHere\\";a:7:{s:4:\\"name\\";s:7:\\"tplHere\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplHere\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplInner\\";a:7:{s:4:\\"name\\";s:8:\\"tplInner\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplInner\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"tplInnerRow\\";a:7:{s:4:\\"name\\";s:11:\\"tplInnerRow\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_tplInnerRow\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"tplInnerHere\\";a:7:{s:4:\\"name\\";s:12:\\"tplInnerHere\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_tplInnerHere\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:18:\\"tplParentRowActive\\";a:7:{s:4:\\"name\\";s:18:\\"tplParentRowActive\\";s:4:\\"desc\\";s:32:\\"pdotools_prop_tplParentRowActive\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:17:\\"tplCategoryFolder\\";a:7:{s:4:\\"name\\";s:17:\\"tplCategoryFolder\\";s:4:\\"desc\\";s:31:\\"pdotools_prop_tplCategoryFolder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplStart\\";a:7:{s:4:\\"name\\";s:8:\\"tplStart\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplStart\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:55:\\"@INLINE <h2[[+classes]]>[[+menutitle]]<\\/h2>[[+wrapper]]\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:16:\\"checkPermissions\\";a:7:{s:4:\\"name\\";s:16:\\"checkPermissions\\";s:4:\\"desc\\";s:30:\\"pdotools_prop_checkPermissions\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"hereId\\";a:7:{s:4:\\"name\\";s:6:\\"hereId\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_hereId\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"select\\";a:7:{s:4:\\"name\\";s:6:\\"select\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_select\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"scheme\\";a:7:{s:4:\\"name\\";s:6:\\"scheme\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_scheme\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:6:{i:0;a:2:{s:5:\\"value\\";s:0:\\"\\";s:4:\\"text\\";s:14:\\"System default\\";}i:1;a:2:{s:5:\\"value\\";i:-1;s:4:\\"text\\";s:25:\\"-1 (relative to site_url)\\";}i:2;a:2:{s:5:\\"value\\";s:4:\\"full\\";s:4:\\"text\\";s:40:\\"full (absolute, prepended with site_url)\\";}i:3;a:2:{s:5:\\"value\\";s:3:\\"abs\\";s:4:\\"text\\";s:39:\\"abs (absolute, prepended with base_url)\\";}i:4;a:2:{s:5:\\"value\\";s:4:\\"http\\";s:4:\\"text\\";s:38:\\"http (absolute, forced to http scheme)\\";}i:5;a:2:{s:5:\\"value\\";s:5:\\"https\\";s:4:\\"text\\";s:40:\\"https (absolute, forced to https scheme)\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"countChildren\\";a:7:{s:4:\\"name\\";s:13:\\"countChildren\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_countChildren\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdomenu.php","content":"\\/** @var array $scriptProperties *\\/\\n\\n\\/\\/ Convert parameters from Wayfinder if exists\\nif (isset($startId)) {\\n    $scriptProperties[\'parents\'] = $startId;\\n}\\nif (!empty($includeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $includeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = $v;\\n        }\\n    }\\n}\\nif (!empty($excludeDocs)) {\\n    $tmp = array_map(\'trim\', explode(\',\', $excludeDocs));\\n    foreach ($tmp as $v) {\\n        if (!empty($scriptProperties[\'resources\'])) {\\n            $scriptProperties[\'resources\'] .= \',-\' . $v;\\n        } else {\\n            $scriptProperties[\'resources\'] = \'-\' . $v;\\n        }\\n    }\\n}\\n\\nif (!empty($previewUnpublished) && $modx->hasPermission(\'view_unpublished\')) {\\n    $scriptProperties[\'showUnpublished\'] = 1;\\n}\\n\\n$scriptProperties[\'depth\'] = empty($level) ? 100 : abs($level) - 1;\\nif (!empty($contexts)) {\\n    $scriptProperties[\'context\'] = $contexts;\\n}\\nif (empty($scriptProperties[\'context\'])) {\\n    $scriptProperties[\'context\'] = $modx->resource->context_key;\\n}\\n\\n\\/\\/ Save original parents specified by user\\n$specified_parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n\\nif ($scriptProperties[\'parents\'] === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n} elseif ($scriptProperties[\'parents\'] === 0 || $scriptProperties[\'parents\'] === \'0\') {\\n    if ($scriptProperties[\'depth\'] !== \'\' && $scriptProperties[\'depth\'] !== 100) {\\n        $contexts = array_map(\'trim\', explode(\',\', $scriptProperties[\'context\']));\\n        $parents = array();\\n        if (!empty($scriptProperties[\'showDeleted\'])) {\\n            $pdoFetch = $modx->getService(\'pdoFetch\');\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $pdoFetch->getChildIds(\'modResource\', 0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        } else {\\n            foreach ($contexts as $ctx) {\\n                $parents = array_merge($parents,\\n                    $modx->getChildIds(0, $scriptProperties[\'depth\'], array(\'context\' => $ctx)));\\n            }\\n        }\\n        $scriptProperties[\'parents\'] = !empty($parents) ? implode(\',\', $parents) : \'+0\';\\n        $scriptProperties[\'depth\'] = 0;\\n    }\\n    $scriptProperties[\'includeParents\'] = 1;\\n    $scriptProperties[\'displayStart\'] = 0;\\n} else {\\n    $parents = array_map(\'trim\', explode(\',\', $scriptProperties[\'parents\']));\\n    $parents_in = $parents_out = array();\\n    foreach ($parents as $v) {\\n        if (!is_numeric($v)) {\\n            continue;\\n        }\\n        if ($v[0] == \'-\') {\\n            $parents_out[] = abs($v);\\n        } else {\\n            $parents_in[] = abs($v);\\n        }\\n    }\\n\\n    if (empty($parents_in)) {\\n        $scriptProperties[\'includeParents\'] = 1;\\n        $scriptProperties[\'displayStart\'] = 0;\\n    }\\n}\\n\\nif (!empty($displayStart)) {\\n    $scriptProperties[\'includeParents\'] = 1;\\n}\\nif (!empty($ph)) {\\n    $toPlaceholder = $ph;\\n}\\nif (!empty($sortOrder)) {\\n    $scriptProperties[\'sortdir\'] = $sortOrder;\\n}\\nif (!empty($sortBy)) {\\n    $scriptProperties[\'sortby\'] = $sortBy;\\n}\\nif (!empty($permissions)) {\\n    $scriptProperties[\'checkPermissions\'] = $permissions;\\n}\\nif (!empty($cacheResults)) {\\n    $scriptProperties[\'cache\'] = $cacheResults;\\n}\\nif (!empty($ignoreHidden)) {\\n    $scriptProperties[\'showHidden\'] = $ignoreHidden;\\n}\\n\\n$wfTemplates = array(\\n    \'outerTpl\' => \'tplOuter\',\\n    \'rowTpl\' => \'tpl\',\\n    \'parentRowTpl\' => \'tplParentRow\',\\n    \'parentRowHereTpl\' => \'tplParentRowHere\',\\n    \'hereTpl\' => \'tplHere\',\\n    \'innerTpl\' => \'tplInner\',\\n    \'innerRowTpl\' => \'tplInnerRow\',\\n    \'innerHereTpl\' => \'tplInnerHere\',\\n    \'activeParentRowTpl\' => \'tplParentRowActive\',\\n    \'categoryFoldersTpl\' => \'tplCategoryFolder\',\\n    \'startItemTpl\' => \'tplStart\',\\n);\\nforeach ($wfTemplates as $k => $v) {\\n    if (isset(${$k})) {\\n        $scriptProperties[$v] = ${$k};\\n    }\\n}\\n\\/\\/---\\n\\n\\/** @var pdoMenu $pdoMenu *\\/\\n$fqn = $modx->getOption(\'pdoMenu.class\', null, \'pdotools.pdomenu\', true);\\n$path = $modx->getOption(\'pdomenu_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoMenu = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoMenu->pdoTools->addTime(\'pdoTools loaded\');\\n\\n$cache = !empty($cache) || (!$modx->user->id && !empty($cacheAnonymous));\\nif (empty($scriptProperties[\'cache_key\'])) {\\n    $scriptProperties[\'cache_key\'] = \'pdomenu\\/\' . sha1(serialize($scriptProperties));\\n}\\n\\n$output = \'\';\\n$tree = array();\\nif ($cache) {\\n    $tree = $pdoMenu->pdoTools->getCache($scriptProperties);\\n}\\nif (empty($tree)) {\\n    $data = $pdoMenu->pdoTools->run();\\n    $data = $pdoMenu->pdoTools->buildTree($data, \'id\', \'parent\', $specified_parents);\\n    $tree = array();\\n    foreach ($data as $k => $v) {\\n        if (empty($v[\'id\'])) {\\n            if (!in_array($k, $specified_parents) && !$pdoMenu->checkResource($k)) {\\n                continue;\\n            } else {\\n                $tree = array_merge($tree, $v[\'children\']);\\n            }\\n        } else {\\n            $tree[$k] = $v;\\n        }\\n    }\\n    if ($cache) {\\n        $pdoMenu->pdoTools->setCache($tree, $scriptProperties);\\n    }\\n}\\nif (!empty($tree)) {\\n    $output = $pdoMenu->templateTree($tree);\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoMenuLog\\">\' . print_r($pdoMenu->pdoTools->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}"}',
        'guid' => '5cb1166cc92195317c2e154df184ee27',
        'native_key' => 0,
        'signature' => 'd30c5c46ff9256424e494fb274a1bb9d',
      ),
      '35191225bb17b0f9fa3978120f98444a' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoTitle","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"\\/** @var array $scriptProperties *\\/\\nif (empty($outputSeparator)) {\\n    $outputSeparator = \' \\/ \';\\n}\\nif (empty($titleField)) {\\n    $titleField = \'longtitle\';\\n}\\nif (!isset($pageVarKey)) {\\n    $pageVarKey = \'page\';\\n}\\nif (!isset($queryVarKey)) {\\n    $queryVarKey = \'query\';\\n}\\nif (empty($tplPages)) {\\n    $tplPages = \'@INLINE [[%pdopage_page]] [[+page]] [[%pdopage_from]] [[+pageCount]]\';\\n}\\nif (empty($tplSearch)) {\\n    $tplSearch = \'@INLINE \\u00ab[[+mse2_query]]\\u00bb\';\\n}\\nif (empty($minQuery)) {\\n    $minQuery = 3;\\n}\\nif (empty($id)) {\\n    $id = $modx->resource->id;\\n}\\nif (empty($cacheKey)) {\\n    $cacheKey = \'title_crumbs\';\\n}\\nif (!isset($cacheTime)) {\\n    $cacheTime = 0;\\n}\\n\\/** @var pdoTools $pdoTools *\\/\\n$fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdotools\', true);\\n$path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoTools = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$modx->lexicon->load(\'pdotools:pdopage\');\\n\\n\\/** @var modResource $resource *\\/\\n$resource = ($id == $modx->resource->id)\\n    ? $modx->resource\\n    : $modx->getObject(\'modResource\', $id);\\nif (!$resource) {\\n    return \'\';\\n}\\n\\n$title = array();\\n$pagetitle = trim($resource->get($titleField));\\nif (empty($pagetitle)) {\\n    $pagetitle = $resource->get(\'pagetitle\');\\n}\\n\\n\\/\\/ Add search request if exists\\nif (!empty($_GET[$queryVarKey]) && strlen($_GET[$queryVarKey]) >= $minQuery && !empty($tplSearch)) {\\n    $pagetitle .= \' \' . $pdoTools->getChunk($tplSearch, array(\\n            $queryVarKey => $modx->stripTags($_GET[$queryVarKey]),\\n        ));\\n}\\n$title[] = $pagetitle;\\n\\n\\/\\/ Add pagination if exists\\nif (!empty($_GET[$pageVarKey]) && !empty($tplPages)) {\\n    $title[] = $pdoTools->getChunk($tplPages, array(\\n        \'page\' => intval($_GET[$pageVarKey]),\\n    ));\\n}\\n\\n\\/\\/ Add parents\\n$cacheKey = $resource->getCacheKey() . \'\\/\' . $cacheKey;\\n$cacheOptions = array(\'cache_key\' => $modx->getOption(\'cache_resource_key\', null, \'resource\'));\\n$crumbs = \'\';\\nif (empty($cache) || !$crumbs = $modx->cacheManager->get($cacheKey, $cacheOptions)) {\\n    $crumbs = $pdoTools->runSnippet(\'pdoCrumbs\', array_merge(\\n        array(\\n            \'to\' => $resource->id,\\n            \'outputSeparator\' => $outputSeparator,\\n            \'showHome\' => 0,\\n            \'showAtHome\' => 0,\\n            \'showCurrent\' => 0,\\n            \'direction\' => \'rtl\',\\n            \'tpl\' => \'@INLINE [[+menutitle]]\',\\n            \'tplCurrent\' => \'@INLINE [[+menutitle]]\',\\n            \'tplWrapper\' => \'@INLINE [[+output]]\',\\n            \'tplMax\' => \'\',\\n            \'tplHome\' => \'\',\\n        ), $scriptProperties\\n    ));\\n}\\nif (!empty($crumbs)) {\\n    if (!empty($cache)) {\\n        $modx->cacheManager->set($cacheKey, $crumbs, $cacheTime, $cacheOptions);\\n    }\\n    $title[] = $crumbs;\\n}\\n\\nif (!empty($registerJs)) {\\n    $config = array(\\n        \'separator\' => $outputSeparator,\\n        \'tpl\' => str_replace(array(\'[[+\', \']]\'), array(\'{\', \'}\'), $pdoTools->getChunk($tplPages)),\\n    );\\n    \\/** @noinspection Annotator *\\/\\n    $modx->regClientStartupScript(\'<script type=\\"text\\/javascript\\">pdoTitle = \' . json_encode($config) . \';<\\/script>\',\\n        true);\\n}\\n\\nreturn implode($outputSeparator, $title);","locked":0,"properties":"a:13:{s:2:\\"id\\";a:7:{s:4:\\"name\\";s:2:\\"id\\";s:4:\\"desc\\";s:16:\\"pdotools_prop_id\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"exclude\\";a:7:{s:4:\\"name\\";s:7:\\"exclude\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_exclude\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_title_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:3;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"titleField\\";a:7:{s:4:\\"name\\";s:10:\\"titleField\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_titleField\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"longtitle\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"cache\\";a:7:{s:4:\\"name\\";s:5:\\"cache\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_title_cache\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"cacheTime\\";a:7:{s:4:\\"name\\";s:9:\\"cacheTime\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_cacheTime\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplPages\\";a:7:{s:4:\\"name\\";s:8:\\"tplPages\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplPages\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:68:\\"@INLINE [[%pdopage_page]] [[+page]] [[%pdopage_from]] [[+pageCount]]\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"pageVarKey\\";a:7:{s:4:\\"name\\";s:10:\\"pageVarKey\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_pageVarKey\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:4:\\"page\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"tplSearch\\";a:7:{s:4:\\"name\\";s:9:\\"tplSearch\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_tplSearch\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:27:\\"@INLINE \\u00ab[[+mse2_query]]\\u00bb\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"queryVarKey\\";a:7:{s:4:\\"name\\";s:11:\\"queryVarKey\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_queryVarKey\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"query\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"minQuery\\";a:7:{s:4:\\"name\\";s:8:\\"minQuery\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_minQuery\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:3;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:35:\\"pdotools_prop_title_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\" \\/ \\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"registerJs\\";a:7:{s:4:\\"name\\";s:10:\\"registerJs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_registerJs\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdotitle.php","content":"\\/** @var array $scriptProperties *\\/\\nif (empty($outputSeparator)) {\\n    $outputSeparator = \' \\/ \';\\n}\\nif (empty($titleField)) {\\n    $titleField = \'longtitle\';\\n}\\nif (!isset($pageVarKey)) {\\n    $pageVarKey = \'page\';\\n}\\nif (!isset($queryVarKey)) {\\n    $queryVarKey = \'query\';\\n}\\nif (empty($tplPages)) {\\n    $tplPages = \'@INLINE [[%pdopage_page]] [[+page]] [[%pdopage_from]] [[+pageCount]]\';\\n}\\nif (empty($tplSearch)) {\\n    $tplSearch = \'@INLINE \\u00ab[[+mse2_query]]\\u00bb\';\\n}\\nif (empty($minQuery)) {\\n    $minQuery = 3;\\n}\\nif (empty($id)) {\\n    $id = $modx->resource->id;\\n}\\nif (empty($cacheKey)) {\\n    $cacheKey = \'title_crumbs\';\\n}\\nif (!isset($cacheTime)) {\\n    $cacheTime = 0;\\n}\\n\\/** @var pdoTools $pdoTools *\\/\\n$fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdotools\', true);\\n$path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoTools = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$modx->lexicon->load(\'pdotools:pdopage\');\\n\\n\\/** @var modResource $resource *\\/\\n$resource = ($id == $modx->resource->id)\\n    ? $modx->resource\\n    : $modx->getObject(\'modResource\', $id);\\nif (!$resource) {\\n    return \'\';\\n}\\n\\n$title = array();\\n$pagetitle = trim($resource->get($titleField));\\nif (empty($pagetitle)) {\\n    $pagetitle = $resource->get(\'pagetitle\');\\n}\\n\\n\\/\\/ Add search request if exists\\nif (!empty($_GET[$queryVarKey]) && strlen($_GET[$queryVarKey]) >= $minQuery && !empty($tplSearch)) {\\n    $pagetitle .= \' \' . $pdoTools->getChunk($tplSearch, array(\\n            $queryVarKey => $modx->stripTags($_GET[$queryVarKey]),\\n        ));\\n}\\n$title[] = $pagetitle;\\n\\n\\/\\/ Add pagination if exists\\nif (!empty($_GET[$pageVarKey]) && !empty($tplPages)) {\\n    $title[] = $pdoTools->getChunk($tplPages, array(\\n        \'page\' => intval($_GET[$pageVarKey]),\\n    ));\\n}\\n\\n\\/\\/ Add parents\\n$cacheKey = $resource->getCacheKey() . \'\\/\' . $cacheKey;\\n$cacheOptions = array(\'cache_key\' => $modx->getOption(\'cache_resource_key\', null, \'resource\'));\\n$crumbs = \'\';\\nif (empty($cache) || !$crumbs = $modx->cacheManager->get($cacheKey, $cacheOptions)) {\\n    $crumbs = $pdoTools->runSnippet(\'pdoCrumbs\', array_merge(\\n        array(\\n            \'to\' => $resource->id,\\n            \'outputSeparator\' => $outputSeparator,\\n            \'showHome\' => 0,\\n            \'showAtHome\' => 0,\\n            \'showCurrent\' => 0,\\n            \'direction\' => \'rtl\',\\n            \'tpl\' => \'@INLINE [[+menutitle]]\',\\n            \'tplCurrent\' => \'@INLINE [[+menutitle]]\',\\n            \'tplWrapper\' => \'@INLINE [[+output]]\',\\n            \'tplMax\' => \'\',\\n            \'tplHome\' => \'\',\\n        ), $scriptProperties\\n    ));\\n}\\nif (!empty($crumbs)) {\\n    if (!empty($cache)) {\\n        $modx->cacheManager->set($cacheKey, $crumbs, $cacheTime, $cacheOptions);\\n    }\\n    $title[] = $crumbs;\\n}\\n\\nif (!empty($registerJs)) {\\n    $config = array(\\n        \'separator\' => $outputSeparator,\\n        \'tpl\' => str_replace(array(\'[[+\', \']]\'), array(\'{\', \'}\'), $pdoTools->getChunk($tplPages)),\\n    );\\n    \\/** @noinspection Annotator *\\/\\n    $modx->regClientStartupScript(\'<script type=\\"text\\/javascript\\">pdoTitle = \' . json_encode($config) . \';<\\/script>\',\\n        true);\\n}\\n\\nreturn implode($outputSeparator, $title);"}',
        'guid' => '0f2665a69d1838422ac8691b5f3a885d',
        'native_key' => 0,
        'signature' => '0cc71efb6c3754e6dc65300b9a0ac04b',
      ),
      'c9b94df2125cf4a53c962b54292f262e' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modSnippet',
        'object' => '{"id":0,"source":1,"property_preprocess":0,"name":"pdoArchive","description":"","editor_type":0,"category":0,"cache_type":0,"snippet":"$modx->lexicon->load(\'pdotools:pdoarchive\');\\n\\n\\/** @var array $scriptProperties *\\/\\n$tplWrapper = $modx->getOption(\'tplWrapper\', $scriptProperties);\\n$tplYear = $modx->getOption(\'tplYear\', $scriptProperties);\\n$tplMonth = $modx->getOption(\'tplMonth\', $scriptProperties);\\n$tplDay = $modx->getOption(\'tplDay\', $scriptProperties);\\n$tpl = $modx->getOption(\'tpl\', $scriptProperties);\\n$dateField = $modx->getOption(\'dateField\', $scriptProperties, \'createdon\', true);\\n$dateFormat = $modx->getOption(\'dateFormat\', $scriptProperties, \'H:i\', true);\\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \\"\\\\n\\");\\n\\n\\/\\/ Adding extra parameters into special place so we can put them in a results\\n\\/** @var modSnippet $snippet *\\/\\n$additionalPlaceholders = $properties = array();\\nif (isset($this) && $this instanceof modSnippet) {\\n    $properties = $this->get(\'properties\');\\n} elseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {\\n    $properties = $snippet->get(\'properties\');\\n}\\nif (!empty($properties)) {\\n    foreach ($scriptProperties as $k => $v) {\\n        if (!isset($properties[$k])) {\\n            $additionalPlaceholders[$k] = $v;\\n        }\\n    }\\n}\\n$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;\\nif (isset($parents) && $parents === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n}\\n$scriptProperties[\'return\'] = \'data\';\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n$rows = $pdoFetch->run();\\n\\n\\/\\/ Process rows\\n$tree = array();\\nforeach ($rows as $row) {\\n    $tmp = $row[$dateField];\\n    if (!is_numeric($tmp)) {\\n        $tmp = strtotime($tmp);\\n    }\\n    $year = date(\'Y\', $tmp);\\n    $month = date(\'m\', $tmp);\\n    $day = date(\'d\', $tmp);\\n    $tree[$year][$month][$day][] = $row;\\n}\\n\\n$output = \'\';\\nforeach ($tree as $year => $months) {\\n    $rows_year = \'\';\\n    $count_year = 0;\\n\\n    foreach ($months as $month => $days) {\\n        $rows_month = \'\';\\n        $count_month = 0;\\n\\n        foreach ($days as $day => $resources) {\\n            $rows_day = array();\\n            $count_day = 0;\\n            $idx = 1;\\n\\n            foreach ($resources as $resource) {\\n                $resource[\'day\'] = $day;\\n                $resource[\'month\'] = $month;\\n                $resource[\'year\'] = $year;\\n                $resource[\'date\'] = strftime($dateFormat, $resource[$dateField]);\\n                $resource[\'idx\'] = $idx++;\\n                $resource[\'menutitle\'] = !empty($resource[\'menutitle\'])\\n                    ? $resource[\'menutitle\']\\n                    : $resource[\'pagetitle\'];\\n                \\/\\/ Add placeholder [[+link]] if specified\\n                if (!empty($scriptProperties[\'useWeblinkUrl\'])) {\\n                    if (!isset($resource[\'context_key\'])) {\\n                        $resource[\'context_key\'] = \'\';\\n                    }\\n                    if (isset($resource[\'class_key\']) && ($resource[\'class_key\'] == \'modWebLink\')) {\\n                        $resource[\'link\'] = isset($resource[\'content\']) && is_numeric(trim($resource[\'content\'], \'[]~ \'))\\n                            ? $pdoFetch->makeUrl(intval(trim($resource[\'content\'], \'[]~ \')), $resource)\\n                            : (isset($resource[\'content\']) ? $resource[\'content\'] : \'\');\\n                    } else {\\n                        $resource[\'link\'] = $pdoFetch->makeUrl($resource[\'id\'], $resource);\\n                    }\\n                } else {\\n                    $resource[\'link\'] = \'\';\\n                }\\n                $tpl = $pdoFetch->defineChunk($resource);\\n                $rows_day[] = $pdoFetch->getChunk($tpl, $resource);\\n                $count_year++;\\n                $count_month++;\\n                $count_day++;\\n            }\\n\\n            $rows_month .= !empty($tplDay)\\n                ? $pdoFetch->getChunk($tplDay, array(\\n                    \'day\' => $day,\\n                    \'month\' => $month,\\n                    \'year\' => $year,\\n                    \'count\' => $count_day,\\n                    \'wrapper\' => implode($outputSeparator, $rows_day),\\n                ), $pdoFetch->config[\'fastMode\'])\\n                : implode($outputSeparator, $rows_day);\\n        }\\n\\n        $rows_year .= !empty($tplMonth)\\n            ? $pdoFetch->getChunk($tplMonth, array(\\n                \'month\' => $month,\\n                \'month_name\' => $modx->lexicon(\'pdoarchive_month_\' . $month),\\n                \'year\' => $year,\\n                \'count\' => $count_month,\\n                \'wrapper\' => $rows_month,\\n            ), $pdoFetch->config[\'fastMode\'])\\n            : $rows_month;\\n    }\\n\\n    $output .= !empty($tplYear)\\n        ? $pdoFetch->getChunk($tplYear, array(\\n            \'year\' => $year,\\n            \'count\' => $count_year,\\n            \'wrapper\' => $rows_year,\\n        ), $pdoFetch->config[\'fastMode\'])\\n        : $rows_year;\\n}\\n$pdoFetch->addTime(\'Rows processed\');\\n\\n\\/\\/ Return output\\nif (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n    $output = $pdoFetch->getChunk(\\n        $tplWrapper,\\n        array_merge($additionalPlaceholders, array(\'output\' => $output)),\\n        $pdoFetch->config[\'fastMode\']\\n    );\\n    $pdoFetch->addTime(\'Rows wrapped\');\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoArchiveLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}","locked":0,"properties":"a:36:{s:3:\\"tpl\\";a:7:{s:4:\\"name\\";s:3:\\"tpl\\";s:4:\\"desc\\";s:17:\\"pdotools_prop_tpl\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:65:\\"@INLINE <li>[[+date]] <a href=\\"[[+link]]\\">[[+menutitle]]<\\/a><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"tplYear\\";a:7:{s:4:\\"name\\";s:7:\\"tplYear\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_tplYear\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:71:\\"@INLINE <h3>[[+year]] <sup>([[+count]])<\\/sup><\\/h3><ul>[[+wrapper]]<\\/ul>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tplMonth\\";a:7:{s:4:\\"name\\";s:8:\\"tplMonth\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tplMonth\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:86:\\"@INLINE <li><h4>[[+month_name]] <sup>([[+count]])<\\/sup><\\/h4><ul>[[+wrapper]]<\\/ul><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"tplDay\\";a:7:{s:4:\\"name\\";s:6:\\"tplDay\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_tplDay\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:79:\\"@INLINE <li><h5>[[+day]] <sup>([[+count]])<\\/sup><\\/h5><ul>[[+wrapper]]<\\/ul><\\/li>\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"tplWrapper\\";a:7:{s:4:\\"name\\";s:10:\\"tplWrapper\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_tplWrapper\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"wrapIfEmpty\\";a:7:{s:4:\\"name\\";s:11:\\"wrapIfEmpty\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_wrapIfEmpty\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"dateField\\";a:7:{s:4:\\"name\\";s:9:\\"dateField\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_dateField\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"createdon\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"dateFormat\\";a:7:{s:4:\\"name\\";s:10:\\"dateFormat\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_dateFormat\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"%H:%M\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"showLog\\";a:7:{s:4:\\"name\\";s:7:\\"showLog\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_showLog\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"sortby\\";a:7:{s:4:\\"name\\";s:6:\\"sortby\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_sortby\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:9:\\"createdon\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"sortbyTV\\";a:7:{s:4:\\"name\\";s:8:\\"sortbyTV\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_sortbyTV\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:12:\\"sortbyTVType\\";a:7:{s:4:\\"name\\";s:12:\\"sortbyTVType\\";s:4:\\"desc\\";s:26:\\"pdotools_prop_sortbyTVType\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"sortdir\\";a:7:{s:4:\\"name\\";s:7:\\"sortdir\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_sortdir\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:4:\\"DESC\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"sortdirTV\\";a:7:{s:4:\\"name\\";s:9:\\"sortdirTV\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_sortdirTV\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:2:{i:0;a:2:{s:4:\\"text\\";s:3:\\"ASC\\";s:5:\\"value\\";s:3:\\"ASC\\";}i:1;a:2:{s:4:\\"text\\";s:4:\\"DESC\\";s:5:\\"value\\";s:4:\\"DESC\\";}}s:5:\\"value\\";s:3:\\"ASC\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"limit\\";a:7:{s:4:\\"name\\";s:5:\\"limit\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_limit\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"offset\\";a:7:{s:4:\\"name\\";s:6:\\"offset\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_offset\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"depth\\";a:7:{s:4:\\"name\\";s:5:\\"depth\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_depth\\";s:4:\\"type\\";s:11:\\"numberfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";i:10;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"outputSeparator\\";a:7:{s:4:\\"name\\";s:15:\\"outputSeparator\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_outputSeparator\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"\\n\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"toPlaceholder\\";a:7:{s:4:\\"name\\";s:13:\\"toPlaceholder\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_toPlaceholder\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"parents\\";a:7:{s:4:\\"name\\";s:7:\\"parents\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_parents\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"includeContent\\";a:7:{s:4:\\"name\\";s:14:\\"includeContent\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_includeContent\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"includeTVs\\";a:7:{s:4:\\"name\\";s:10:\\"includeTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_includeTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"prepareTVs\\";a:7:{s:4:\\"name\\";s:10:\\"prepareTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_prepareTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:1:\\"1\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"processTVs\\";a:7:{s:4:\\"name\\";s:10:\\"processTVs\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_processTVs\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"tvPrefix\\";a:7:{s:4:\\"name\\";s:8:\\"tvPrefix\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_tvPrefix\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:3:\\"tv.\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:5:\\"where\\";a:7:{s:4:\\"name\\";s:5:\\"where\\";s:4:\\"desc\\";s:19:\\"pdotools_prop_where\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:15:\\"showUnpublished\\";a:7:{s:4:\\"name\\";s:15:\\"showUnpublished\\";s:4:\\"desc\\";s:29:\\"pdotools_prop_showUnpublished\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:11:\\"showDeleted\\";a:7:{s:4:\\"name\\";s:11:\\"showDeleted\\";s:4:\\"desc\\";s:25:\\"pdotools_prop_showDeleted\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:10:\\"showHidden\\";a:7:{s:4:\\"name\\";s:10:\\"showHidden\\";s:4:\\"desc\\";s:24:\\"pdotools_prop_showHidden\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:14:\\"hideContainers\\";a:7:{s:4:\\"name\\";s:14:\\"hideContainers\\";s:4:\\"desc\\";s:28:\\"pdotools_prop_hideContainers\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:0;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:7:\\"context\\";a:7:{s:4:\\"name\\";s:7:\\"context\\";s:4:\\"desc\\";s:21:\\"pdotools_prop_context\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:8:\\"totalVar\\";a:7:{s:4:\\"name\\";s:8:\\"totalVar\\";s:4:\\"desc\\";s:22:\\"pdotools_prop_totalVar\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:5:\\"total\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:9:\\"resources\\";a:7:{s:4:\\"name\\";s:9:\\"resources\\";s:4:\\"desc\\";s:23:\\"pdotools_prop_resources\\";s:4:\\"type\\";s:9:\\"textfield\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"select\\";a:7:{s:4:\\"name\\";s:6:\\"select\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_select\\";s:4:\\"type\\";s:8:\\"textarea\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:6:\\"scheme\\";a:7:{s:4:\\"name\\";s:6:\\"scheme\\";s:4:\\"desc\\";s:20:\\"pdotools_prop_scheme\\";s:4:\\"type\\";s:4:\\"list\\";s:7:\\"options\\";a:6:{i:0;a:2:{s:5:\\"value\\";s:0:\\"\\";s:4:\\"text\\";s:14:\\"System default\\";}i:1;a:2:{s:5:\\"value\\";i:-1;s:4:\\"text\\";s:25:\\"-1 (relative to site_url)\\";}i:2;a:2:{s:5:\\"value\\";s:4:\\"full\\";s:4:\\"text\\";s:40:\\"full (absolute, prepended with site_url)\\";}i:3;a:2:{s:5:\\"value\\";s:3:\\"abs\\";s:4:\\"text\\";s:39:\\"abs (absolute, prepended with base_url)\\";}i:4;a:2:{s:5:\\"value\\";s:4:\\"http\\";s:4:\\"text\\";s:38:\\"http (absolute, forced to http scheme)\\";}i:5;a:2:{s:5:\\"value\\";s:5:\\"https\\";s:4:\\"text\\";s:40:\\"https (absolute, forced to https scheme)\\";}}s:5:\\"value\\";s:0:\\"\\";s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}s:13:\\"useWeblinkUrl\\";a:7:{s:4:\\"name\\";s:13:\\"useWeblinkUrl\\";s:4:\\"desc\\";s:27:\\"pdotools_prop_useWeblinkUrl\\";s:4:\\"type\\";s:13:\\"combo-boolean\\";s:7:\\"options\\";a:0:{}s:5:\\"value\\";b:1;s:7:\\"lexicon\\";s:19:\\"pdotools:properties\\";s:4:\\"area\\";s:0:\\"\\";}}","moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/snippets\\/snippet.pdoarchive.php","content":"$modx->lexicon->load(\'pdotools:pdoarchive\');\\n\\n\\/** @var array $scriptProperties *\\/\\n$tplWrapper = $modx->getOption(\'tplWrapper\', $scriptProperties);\\n$tplYear = $modx->getOption(\'tplYear\', $scriptProperties);\\n$tplMonth = $modx->getOption(\'tplMonth\', $scriptProperties);\\n$tplDay = $modx->getOption(\'tplDay\', $scriptProperties);\\n$tpl = $modx->getOption(\'tpl\', $scriptProperties);\\n$dateField = $modx->getOption(\'dateField\', $scriptProperties, \'createdon\', true);\\n$dateFormat = $modx->getOption(\'dateFormat\', $scriptProperties, \'H:i\', true);\\n$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \\"\\\\n\\");\\n\\n\\/\\/ Adding extra parameters into special place so we can put them in a results\\n\\/** @var modSnippet $snippet *\\/\\n$additionalPlaceholders = $properties = array();\\nif (isset($this) && $this instanceof modSnippet) {\\n    $properties = $this->get(\'properties\');\\n} elseif ($snippet = $modx->getObject(\'modSnippet\', array(\'name\' => \'pdoResources\'))) {\\n    $properties = $snippet->get(\'properties\');\\n}\\nif (!empty($properties)) {\\n    foreach ($scriptProperties as $k => $v) {\\n        if (!isset($properties[$k])) {\\n            $additionalPlaceholders[$k] = $v;\\n        }\\n    }\\n}\\n$scriptProperties[\'additionalPlaceholders\'] = $additionalPlaceholders;\\nif (isset($parents) && $parents === \'\') {\\n    $scriptProperties[\'parents\'] = $modx->resource->id;\\n}\\n$scriptProperties[\'return\'] = \'data\';\\n\\/** @var pdoFetch $pdoFetch *\\/\\n$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n$path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\nif ($pdoClass = $modx->loadClass($fqn, $path, false, true)) {\\n    $pdoFetch = new $pdoClass($modx, $scriptProperties);\\n} else {\\n    return false;\\n}\\n$pdoFetch->addTime(\'pdoTools loaded\');\\n$rows = $pdoFetch->run();\\n\\n\\/\\/ Process rows\\n$tree = array();\\nforeach ($rows as $row) {\\n    $tmp = $row[$dateField];\\n    if (!is_numeric($tmp)) {\\n        $tmp = strtotime($tmp);\\n    }\\n    $year = date(\'Y\', $tmp);\\n    $month = date(\'m\', $tmp);\\n    $day = date(\'d\', $tmp);\\n    $tree[$year][$month][$day][] = $row;\\n}\\n\\n$output = \'\';\\nforeach ($tree as $year => $months) {\\n    $rows_year = \'\';\\n    $count_year = 0;\\n\\n    foreach ($months as $month => $days) {\\n        $rows_month = \'\';\\n        $count_month = 0;\\n\\n        foreach ($days as $day => $resources) {\\n            $rows_day = array();\\n            $count_day = 0;\\n            $idx = 1;\\n\\n            foreach ($resources as $resource) {\\n                $resource[\'day\'] = $day;\\n                $resource[\'month\'] = $month;\\n                $resource[\'year\'] = $year;\\n                $resource[\'date\'] = strftime($dateFormat, $resource[$dateField]);\\n                $resource[\'idx\'] = $idx++;\\n                $resource[\'menutitle\'] = !empty($resource[\'menutitle\'])\\n                    ? $resource[\'menutitle\']\\n                    : $resource[\'pagetitle\'];\\n                \\/\\/ Add placeholder [[+link]] if specified\\n                if (!empty($scriptProperties[\'useWeblinkUrl\'])) {\\n                    if (!isset($resource[\'context_key\'])) {\\n                        $resource[\'context_key\'] = \'\';\\n                    }\\n                    if (isset($resource[\'class_key\']) && ($resource[\'class_key\'] == \'modWebLink\')) {\\n                        $resource[\'link\'] = isset($resource[\'content\']) && is_numeric(trim($resource[\'content\'], \'[]~ \'))\\n                            ? $pdoFetch->makeUrl(intval(trim($resource[\'content\'], \'[]~ \')), $resource)\\n                            : (isset($resource[\'content\']) ? $resource[\'content\'] : \'\');\\n                    } else {\\n                        $resource[\'link\'] = $pdoFetch->makeUrl($resource[\'id\'], $resource);\\n                    }\\n                } else {\\n                    $resource[\'link\'] = \'\';\\n                }\\n                $tpl = $pdoFetch->defineChunk($resource);\\n                $rows_day[] = $pdoFetch->getChunk($tpl, $resource);\\n                $count_year++;\\n                $count_month++;\\n                $count_day++;\\n            }\\n\\n            $rows_month .= !empty($tplDay)\\n                ? $pdoFetch->getChunk($tplDay, array(\\n                    \'day\' => $day,\\n                    \'month\' => $month,\\n                    \'year\' => $year,\\n                    \'count\' => $count_day,\\n                    \'wrapper\' => implode($outputSeparator, $rows_day),\\n                ), $pdoFetch->config[\'fastMode\'])\\n                : implode($outputSeparator, $rows_day);\\n        }\\n\\n        $rows_year .= !empty($tplMonth)\\n            ? $pdoFetch->getChunk($tplMonth, array(\\n                \'month\' => $month,\\n                \'month_name\' => $modx->lexicon(\'pdoarchive_month_\' . $month),\\n                \'year\' => $year,\\n                \'count\' => $count_month,\\n                \'wrapper\' => $rows_month,\\n            ), $pdoFetch->config[\'fastMode\'])\\n            : $rows_month;\\n    }\\n\\n    $output .= !empty($tplYear)\\n        ? $pdoFetch->getChunk($tplYear, array(\\n            \'year\' => $year,\\n            \'count\' => $count_year,\\n            \'wrapper\' => $rows_year,\\n        ), $pdoFetch->config[\'fastMode\'])\\n        : $rows_year;\\n}\\n$pdoFetch->addTime(\'Rows processed\');\\n\\n\\/\\/ Return output\\nif (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {\\n    $output = $pdoFetch->getChunk(\\n        $tplWrapper,\\n        array_merge($additionalPlaceholders, array(\'output\' => $output)),\\n        $pdoFetch->config[\'fastMode\']\\n    );\\n    $pdoFetch->addTime(\'Rows wrapped\');\\n}\\n\\nif ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {\\n    $output .= \'<pre class=\\"pdoArchiveLog\\">\' . print_r($pdoFetch->getTime(), 1) . \'<\\/pre>\';\\n}\\n\\nif (!empty($toPlaceholder)) {\\n    $modx->setPlaceholder($toPlaceholder, $output);\\n} else {\\n    return $output;\\n}"}',
        'guid' => 'ab7f84ce4fc04c287b26f601636cd6dc',
        'native_key' => 0,
        'signature' => '878a4022a71b15fa7d7ce4bb259d1329',
      ),
    ),
    'Plugins' => 
    array (
      'ac07631e4cdda6a92f5fa8095ea0d389' => 
      array (
        'preserve_keys' => false,
        'update_object' => true,
        'unique_key' => 'name',
        'class' => 'modPlugin',
        'object' => '{"id":null,"source":1,"property_preprocess":0,"name":"pdoTools","description":"","editor_type":0,"category":0,"cache_type":0,"plugincode":"\\/** @var modX $modx *\\/\\nswitch ($modx->event->name) {\\n\\n    case \'OnMODXInit\':\\n        $fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdotools\', true);\\n        $path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\n        $modx->loadClass($fqn, $path, false, true);\\n\\n        $fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n        $path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\n        $modx->loadClass($fqn, $path, false, true);\\n        break;\\n\\n    case \'OnSiteRefresh\':\\n        \\/** @var pdoTools $pdoTools *\\/\\n        if ($pdoTools = $modx->getService(\'pdoTools\')) {\\n            if ($pdoTools->clearFileCache()) {\\n                $modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon(\'refresh_default\') . \': pdoTools\');\\n            }\\n        }\\n        break;\\n\\n    case \'OnWebPagePrerender\':\\n        $parser = $modx->getParser();\\n        if ($parser instanceof pdoParser) {\\n            foreach ($parser->pdoTools->ignores as $key => $val) {\\n                $modx->resource->_output = str_replace($key, $val, $modx->resource->_output);\\n            }\\n        }\\n        break;\\n}","locked":0,"properties":null,"disabled":0,"moduleguid":"","static":0,"static_file":"core\\/components\\/pdotools\\/elements\\/plugins\\/plugin.pdotools.php","content":"\\/** @var modX $modx *\\/\\nswitch ($modx->event->name) {\\n\\n    case \'OnMODXInit\':\\n        $fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdotools\', true);\\n        $path = $modx->getOption(\'pdotools_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\n        $modx->loadClass($fqn, $path, false, true);\\n\\n        $fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);\\n        $path = $modx->getOption(\'pdofetch_class_path\', null, MODX_CORE_PATH . \'components\\/pdotools\\/model\\/\', true);\\n        $modx->loadClass($fqn, $path, false, true);\\n        break;\\n\\n    case \'OnSiteRefresh\':\\n        \\/** @var pdoTools $pdoTools *\\/\\n        if ($pdoTools = $modx->getService(\'pdoTools\')) {\\n            if ($pdoTools->clearFileCache()) {\\n                $modx->log(modX::LOG_LEVEL_INFO, $modx->lexicon(\'refresh_default\') . \': pdoTools\');\\n            }\\n        }\\n        break;\\n\\n    case \'OnWebPagePrerender\':\\n        $parser = $modx->getParser();\\n        if ($parser instanceof pdoParser) {\\n            foreach ($parser->pdoTools->ignores as $key => $val) {\\n                $modx->resource->_output = str_replace($key, $val, $modx->resource->_output);\\n            }\\n        }\\n        break;\\n}"}',
        'guid' => '0524b09e23e4f5eff3d9216be5f3d92b',
        'native_key' => NULL,
        'signature' => '5450cbb1f4aad3d1acfb09eef647f3ba',
        'related_objects' => 
        array (
          'PluginEvents' => 
          array (
            'c844929f4680a6d5601483de84d2d2bd' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnMODXInit","priority":-100,"propertyset":0}',
              'guid' => '1f693ccdaaf40405965ee3e62982f769',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnMODXInit',
              ),
              'signature' => '1fe50c448f7d39624dbca13caf38b65a',
            ),
            '9c9303ff80eb41fc437e7dcb99933c60' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnSiteRefresh","priority":0,"propertyset":0}',
              'guid' => '83a49d757bcd6e49677aa9ecf41e94bf',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnSiteRefresh',
              ),
              'signature' => 'e42260022be5486477055d64fcaabe9a',
            ),
            'a8fe404dec5cfea4871569babd18fa27' => 
            array (
              'preserve_keys' => true,
              'update_object' => true,
              'unique_key' => 
              array (
                0 => 'pluginid',
                1 => 'event',
              ),
              'class' => 'modPluginEvent',
              'object' => '{"pluginid":0,"event":"OnWebPagePrerender","priority":-100,"propertyset":0}',
              'guid' => '62b8ee611c7444de13f16bb2bc982eeb',
              'native_key' => 
              array (
                0 => 0,
                1 => 'OnWebPagePrerender',
              ),
              'signature' => '36b1ce1c30c2c4f69436530f4408c6cf',
            ),
          ),
        ),
      ),
    ),
  ),
  'related_object_attributes' => 
  array (
    'Snippets' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'Plugins' => 
    array (
      'preserve_keys' => false,
      'update_object' => true,
      'unique_key' => 'name',
    ),
    'PluginEvents' => 
    array (
      'preserve_keys' => true,
      'update_object' => true,
      'unique_key' => 
      array (
        0 => 'pluginid',
        1 => 'event',
      ),
    ),
  ),
  'namespace' => 'pdotools',
  'resolve' => 
  array (
    0 => 
    array (
      'type' => 'file',
      'body' => '{"source":"pdotools-2.12.6-pl\\/modCategory\\/6ac777e2146e4fb96282e38aa8a47f1c\\/0\\/","target":"return MODX_ASSETS_PATH . \'components\\/\';","name":"pdotools"}',
    ),
    1 => 
    array (
      'type' => 'file',
      'body' => '{"source":"pdotools-2.12.6-pl\\/modCategory\\/6ac777e2146e4fb96282e38aa8a47f1c\\/1\\/","target":"return MODX_CORE_PATH . \'components\\/\';","name":"pdotools"}',
    ),
    2 => 
    array (
      'type' => 'php',
      'body' => '{"source":"pdotools-2.12.6-pl\\/modCategory\\/6ac777e2146e4fb96282e38aa8a47f1c.resolve.extension.resolver","type":"php","name":"resolve.extension"}',
    ),
    3 => 
    array (
      'type' => 'php',
      'body' => '{"source":"pdotools-2.12.6-pl\\/modCategory\\/6ac777e2146e4fb96282e38aa8a47f1c.resolve.parser.resolver","type":"php","name":"resolve.parser"}',
    ),
  ),
  'validate' => NULL,
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => '335433c239985526b877f5dde78e7f39',
  'package' => 'modx',
  'class' => 'modCategory',
  'signature' => '6ac777e2146e4fb96282e38aa8a47f1c',
  'native_key' => 1,
  'object' => '{"id":1,"parent":0,"category":"pdoTools","rank":0}',
);